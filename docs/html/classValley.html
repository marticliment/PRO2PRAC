<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ca">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pràctica de PRO2: Referència de la Classe Valley</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Pràctica de PRO2<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Martí Climent</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generat per Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Cerca');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classValley.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Carregant...</div>
<div class="SRStatus" id="Searching">Cercant...</div>
<div class="SRStatus" id="NoMatches">Cap coincidència</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Tipus Públics</a> &#124;
<a href="#pub-static-methods">Mètodes Públics Estàtics</a> &#124;
<a href="#pub-static-attribs">Atributs Públics Estàtics</a> &#124;
<a href="#pri-static-methods">Mètodes Privats Estàtics</a> &#124;
<a href="#pri-static-attribs">Atributs Privats Estàtics</a> &#124;
<a href="classValley-members.html">Llista de tots els membres</a>  </div>
  <div class="headertitle"><div class="title">Referència de la Classe Valley</div></div>
</div><!--header-->
<div class="contents">

<p>Represents a valley with cities (<a class="el" href="classCity.html" title="Represents a city with an inventory of Product items.">City</a> objects), and a <a class="el" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products.">Ship</a> that navigates and trades between cities.  
 <a href="classValley.html#details">Més...</a></p>

<p><code>#include &lt;<a class="el" href="Valley_8hh_source.html">Valley.hh</a>&gt;</code></p>
<div class="dynheader">
Diagrama de col·laboració per a Valley:</div>
<div class="dyncontent">
<div class="center"><img src="classValley__coll__graph.png" border="0" usemap="#aValley_coll__map" alt="Collaboration graph"/></div>
<map name="aValley_coll__map" id="aValley_coll__map">
<area shape="rect" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities." alt="" coords="53,196,115,221"/>
<area shape="rect" href="classCity.html" title="Represents a city with an inventory of Product items." alt="" coords="5,108,53,133"/>
<area shape="poly" title=" " alt="" coords="28,147,33,171,44,184,58,194,55,198,40,188,28,173,23,148"/>
<area shape="rect" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products." alt="" coords="115,108,165,133"/>
<area shape="poly" title=" " alt="" coords="129,147,113,173,95,197,91,194,108,171,125,144"/>
<area shape="rect" href="classProduct.html" title="Represents a product. A product object has an available amount and a wanted amount of units,..." alt="" coords="105,5,175,31"/>
<area shape="poly" title=" " alt="" coords="143,45,143,108,137,108,137,45"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">llegenda</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structValley_1_1RouteEvaluationResult.html">RouteEvaluationResult</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="structValley_1_1RouteEvaluationResult.html" title="The RouteEvaluationResult struct represents the result of evaluating a possible route for the ship.">RouteEvaluationResult</a> struct represents the result of evaluating a possible route for the ship.  <a href="structValley_1_1RouteEvaluationResult.html#details">Més...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Tipus Públics</h2></td></tr>
<tr class="memitem:a3771d0f650af806c24a71e9060093635" id="r_a3771d0f650af806c24a71e9060093635"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> { <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Left</a>
, <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c">Right</a>
 }</td></tr>
<tr class="memdesc:a3771d0f650af806c24a71e9060093635"><td class="mdescLeft">&#160;</td><td class="mdescRight">The NavStep enum represents the navigation steps (left or right) the ship can take from a certain node, assuming the root node is at the top.  <a href="classValley.html#a3771d0f650af806c24a71e9060093635">Més...</a><br /></td></tr>
<tr class="separator:a3771d0f650af806c24a71e9060093635"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Mètodes Públics Estàtics</h2></td></tr>
<tr class="memitem:aab63536d9205e6bbfede92c0c5d66d25" id="r_aab63536d9205e6bbfede92c0c5d66d25"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#aab63536d9205e6bbfede92c0c5d66d25">InitializeFromStream</a> (istream &amp;stream)</td></tr>
<tr class="memdesc:aab63536d9205e6bbfede92c0c5d66d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> from the input stream. This implies reading the products to be added to the <a class="el" href="classProductReference.html" title="Stores the data (in ProductData objects) and keeps track of all the existing products.">ProductReference</a>, the cities that of the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> and the <a class="el" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products.">Ship</a>.  <br /></td></tr>
<tr class="separator:aab63536d9205e6bbfede92c0c5d66d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bdfffd571d76986c7aaa277d2150362" id="r_a8bdfffd571d76986c7aaa277d2150362"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a8bdfffd571d76986c7aaa277d2150362">ReadCitiesFromStream</a> (istream &amp;stream)</td></tr>
<tr class="memdesc:a8bdfffd571d76986c7aaa277d2150362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the cities from the input stream, overwriting the old <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> contents, if any. All the data regarding the cities from the old valley is lost.  <br /></td></tr>
<tr class="separator:a8bdfffd571d76986c7aaa277d2150362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070726f5f925f2a2891aa5226ef58f17" id="r_a070726f5f925f2a2891aa5226ef58f17"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classShip.html">Ship</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a070726f5f925f2a2891aa5226ef58f17">GetShip</a> ()</td></tr>
<tr class="memdesc:a070726f5f925f2a2891aa5226ef58f17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a reference to the ship.  <br /></td></tr>
<tr class="separator:a070726f5f925f2a2891aa5226ef58f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150cd1a95764b0b85e8d57aecc73b0c0" id="r_a150cd1a95764b0b85e8d57aecc73b0c0"><td class="memItemLeft" align="right" valign="top">static vector&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a150cd1a95764b0b85e8d57aecc73b0c0">GetCityIds</a> ()</td></tr>
<tr class="memdesc:a150cd1a95764b0b85e8d57aecc73b0c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the list of city Ids in the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a>.  <br /></td></tr>
<tr class="separator:a150cd1a95764b0b85e8d57aecc73b0c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ff9182c65289925ff544ac37e6b792" id="r_a75ff9182c65289925ff544ac37e6b792"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classCity.html">City</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a> (const string &amp;id)</td></tr>
<tr class="memdesc:a75ff9182c65289925ff544ac37e6b792"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the city with the specified Id.  <br /></td></tr>
<tr class="separator:a75ff9182c65289925ff544ac37e6b792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ae654d0a8f51b5c80ec9e88447fe7d" id="r_ab9ae654d0a8f51b5c80ec9e88447fe7d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d">HasCity</a> (const string &amp;id)</td></tr>
<tr class="memdesc:ab9ae654d0a8f51b5c80ec9e88447fe7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a city with the specified Id exists.  <br /></td></tr>
<tr class="separator:ab9ae654d0a8f51b5c80ec9e88447fe7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5308f01b1b609a63508404fa8b7a46f" id="r_aa5308f01b1b609a63508404fa8b7a46f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">DoTrades</a> ()</td></tr>
<tr class="memdesc:aa5308f01b1b609a63508404fa8b7a46f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs trades in the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a>. Trades start recursively from the root node. The city in the root node trades with its children, which at their time trade with their children, etc.  <br /></td></tr>
<tr class="separator:aa5308f01b1b609a63508404fa8b7a46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61921a453bfcab8a76822fb16553560" id="r_aa61921a453bfcab8a76822fb16553560"><td class="memItemLeft" align="right" valign="top">static vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#aa61921a453bfcab8a76822fb16553560">GetBestRoute</a> ()</td></tr>
<tr class="memdesc:aa61921a453bfcab8a76822fb16553560"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the best route for the ship. The best route is the shortest route possible where the maximum amount of product is bought and sold.  <br /></td></tr>
<tr class="separator:aa61921a453bfcab8a76822fb16553560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d27338b1463dfa8f30f5e1e1c4e9a89" id="r_a2d27338b1463dfa8f30f5e1e1c4e9a89"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a2d27338b1463dfa8f30f5e1e1c4e9a89">NavigateRoute</a> (const vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt; &amp;route)</td></tr>
<tr class="memdesc:a2d27338b1463dfa8f30f5e1e1c4e9a89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Navigates the specified route, updating the cities of the valley accordingly.  <br /></td></tr>
<tr class="separator:a2d27338b1463dfa8f30f5e1e1c4e9a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Atributs Públics Estàtics</h2></td></tr>
<tr class="memitem:a6c77616859a5ac6a822be4a2b6cd537e" id="r_a6c77616859a5ac6a822be4a2b6cd537e"><td class="memItemLeft" align="right" valign="top">static BinTree&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a> = BinTree&lt;string&gt;()</td></tr>
<tr class="separator:a6c77616859a5ac6a822be4a2b6cd537e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Mètodes Privats Estàtics</h2></td></tr>
<tr class="memitem:a32128482f1832fafabeb95954a489bec" id="r_a32128482f1832fafabeb95954a489bec"><td class="memItemLeft" align="right" valign="top">static BinTree&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a32128482f1832fafabeb95954a489bec">GetRiverNodeFromStream</a> (istream &amp;stream)</td></tr>
<tr class="memdesc:a32128482f1832fafabeb95954a489bec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a river node and its children from an input stream.  <br /></td></tr>
<tr class="separator:a32128482f1832fafabeb95954a489bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97bd06aed292614351b1db74566d0259" id="r_a97bd06aed292614351b1db74566d0259"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a97bd06aed292614351b1db74566d0259">DoTrades</a> (const BinTree&lt; string &gt; &amp;current_position)</td></tr>
<tr class="memdesc:a97bd06aed292614351b1db74566d0259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will make the city at the given node trade with its children. At their time, the children will trade with their respective children, and so on.  <br /></td></tr>
<tr class="separator:a97bd06aed292614351b1db74566d0259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a168a713566fbb161885d17072414b32a" id="r_a168a713566fbb161885d17072414b32a"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a168a713566fbb161885d17072414b32a">TestRouteStep</a> (vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt; &amp;current_route, const BinTree&lt; string &gt; &amp;current_location, int bought_amount, int sold_amount, int recently_skipped_cities, <a class="el" href="classShip.html">Ship</a> &amp;test_ship, <a class="el" href="structValley_1_1RouteEvaluationResult.html">RouteEvaluationResult</a> &amp;best_route)</td></tr>
<tr class="memdesc:a168a713566fbb161885d17072414b32a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests a route step and updates the best route if necessary.  <br /></td></tr>
<tr class="separator:a168a713566fbb161885d17072414b32a"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Atributs Privats Estàtics</h2></td></tr>
<tr class="memitem:a837c0bfa444e667bb8d93e73d44ed3d4" id="r_a837c0bfa444e667bb8d93e73d44ed3d4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a> = false</td></tr>
<tr class="separator:a837c0bfa444e667bb8d93e73d44ed3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afebc5484b9933c6d53d54e8a43632970" id="r_afebc5484b9933c6d53d54e8a43632970"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classCity.html">City</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#afebc5484b9933c6d53d54e8a43632970">invalid_city</a> = <a class="el" href="classCity.html">City</a>(&quot;invalid&quot;)</td></tr>
<tr class="separator:afebc5484b9933c6d53d54e8a43632970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b588ac6bb53e4777778a4ca8f89725" id="r_a72b588ac6bb53e4777778a4ca8f89725"><td class="memItemLeft" align="right" valign="top">static unordered_map&lt; string, <a class="el" href="classCity.html">City</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a> = unordered_map&lt;string, <a class="el" href="classCity.html">City</a>&gt;()</td></tr>
<tr class="separator:a72b588ac6bb53e4777778a4ca8f89725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fb1ecacc49127f34e147ac01d76941" id="r_a79fb1ecacc49127f34e147ac01d76941"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classShip.html">Ship</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a> = <a class="el" href="classShip.html">Ship</a>()</td></tr>
<tr class="separator:a79fb1ecacc49127f34e147ac01d76941"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Descripció Detallada</h2>
<div class="textblock"><p>Represents a valley with cities (<a class="el" href="classCity.html" title="Represents a city with an inventory of Product items.">City</a> objects), and a <a class="el" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products.">Ship</a> that navigates and trades between cities. </p>
<p>The cities are organized on a BinTree-like structure, where each city has either two or zero children. There is always a root city </p>

<p class="definition">Definició a la línia <a class="el" href="Valley_8hh_source.html#l00025">25</a> del fitxer <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>
</div><h2 class="groupheader">Documentació de les Enumeracions Membre</h2>
<a id="a3771d0f650af806c24a71e9060093635" name="a3771d0f650af806c24a71e9060093635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3771d0f650af806c24a71e9060093635">&#9670;&#160;</a></span>NavStep</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">Valley::NavStep</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The NavStep enum represents the navigation steps (left or right) the ship can take from a certain node, assuming the root node is at the top. </p>
<table class="fieldtable">
<tr><th colspan="2">Valors de les Enumeracions</th></tr><tr><td class="fieldname"><a id="a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff" name="a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff"></a>Left&#160;</td><td class="fielddoc"><p>Navigate to the left child assuming the root node is at the top. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c" name="a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c"></a>Right&#160;</td><td class="fielddoc"><p>Navigate to the right child assuming the root node is at the top. </p>
</td></tr>
</table>

<p class="definition">Definició a la línia <a class="el" href="Valley_8hh_source.html#l00031">31</a> del fitxer <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   32</span>    {</div>
<div class="line"><span class="lineno">   33</span>        <a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Left</a>, </div>
<div class="line"><span class="lineno">   34</span>        <a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c">Right</a> </div>
<div class="line"><span class="lineno">   35</span>    };</div>
<div class="ttc" id="aclassValley_html_a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c"><div class="ttname"><a href="classValley.html#a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c">Valley::NavStep::Right</a></div><div class="ttdeci">@ Right</div></div>
<div class="ttc" id="aclassValley_html_a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff"><div class="ttname"><a href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Valley::NavStep::Left</a></div><div class="ttdeci">@ Left</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Documentació de les Funcions Membre</h2>
<a id="aa5308f01b1b609a63508404fa8b7a46f" name="aa5308f01b1b609a63508404fa8b7a46f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5308f01b1b609a63508404fa8b7a46f">&#9670;&#160;</a></span>DoTrades() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::DoTrades </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs trades in the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a>. Trades start recursively from the root node. The city in the root node trades with its children, which at their time trade with their children, etc. </p>
<dl class="section pre"><dt>Precondició</dt><dd>The <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>Trades are performed recursively from the root city. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00110">110</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  111</span>{</div>
<div class="line"><span class="lineno">  112</span>    assert(<a class="code hl_variable" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a>);</div>
<div class="line"><span class="lineno">  113</span>    <a class="code hl_function" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">DoTrades</a>(<a class="code hl_variable" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a>);</div>
<div class="line"><span class="lineno">  114</span>}</div>
<div class="ttc" id="aclassValley_html_a6c77616859a5ac6a822be4a2b6cd537e"><div class="ttname"><a href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">Valley::river_structure</a></div><div class="ttdeci">static BinTree&lt; string &gt; river_structure</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00051">Valley.hh:51</a></div></div>
<div class="ttc" id="aclassValley_html_a837c0bfa444e667bb8d93e73d44ed3d4"><div class="ttname"><a href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">Valley::initialized</a></div><div class="ttdeci">static bool initialized</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00048">Valley.hh:48</a></div></div>
<div class="ttc" id="aclassValley_html_aa5308f01b1b609a63508404fa8b7a46f"><div class="ttname"><a href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">Valley::DoTrades</a></div><div class="ttdeci">static void DoTrades()</div><div class="ttdoc">Performs trades in the Valley. Trades start recursively from the root node. The city in the root node...</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00110">Valley.cc:110</a></div></div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides d'aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aa5308f01b1b609a63508404fa8b7a46f_cgraph.png" border="0" usemap="#aclassValley_aa5308f01b1b609a63508404fa8b7a46f_cgraph" alt=""/></div>
<map name="aclassValley_aa5308f01b1b609a63508404fa8b7a46f_cgraph" id="aclassValley_aa5308f01b1b609a63508404fa8b7a46f_cgraph">
<area shape="rect" title="Performs trades in the Valley. Trades start recursively from the root node. The city in the root node..." alt="" coords="5,29,135,55"/>
<area shape="poly" title=" " alt="" coords="48,30,43,21,46,11,55,5,70,3,88,6,96,14,92,18,85,11,70,8,57,10,50,14,49,20,53,28"/>
</map>
</div>
<div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aa5308f01b1b609a63508404fa8b7a46f_icgraph.png" border="0" usemap="#aclassValley_aa5308f01b1b609a63508404fa8b7a46f_icgraph" alt=""/></div>
<map name="aclassValley_aa5308f01b1b609a63508404fa8b7a46f_icgraph" id="aclassValley_aa5308f01b1b609a63508404fa8b7a46f_icgraph">
<area shape="rect" title="Performs trades in the Valley. Trades start recursively from the root node. The city in the root node..." alt="" coords="183,31,312,56"/>
<area shape="poly" title=" " alt="" coords="278,20,269,12,247,9,229,11,219,16,217,22,222,29,218,32,212,22,215,13,227,6,247,4,272,8,282,16"/>
<area shape="rect" href="classValley.html#a97bd06aed292614351b1db74566d0259" title="Will make the city at the given node trade with its children. At their time, the children will trade ..." alt="" coords="5,5,135,31"/>
<area shape="poly" title=" " alt="" coords="169,35,135,30,136,25,170,30"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="43,55,97,80"/>
<area shape="poly" title=" " alt="" coords="170,57,98,66,97,61,169,51"/>
</map>
</div>

</div>
</div>
<a id="a97bd06aed292614351b1db74566d0259" name="a97bd06aed292614351b1db74566d0259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97bd06aed292614351b1db74566d0259">&#9670;&#160;</a></span>DoTrades() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::DoTrades </td>
          <td>(</td>
          <td class="paramtype">const BinTree&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>current_position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will make the city at the given node trade with its children. At their time, the children will trade with their respective children, and so on. </p>
<dl class="params"><dt>Paràmetres</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_position</td><td>A node in the river structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondició</dt><dd>The current_position node is either empty or exists in the valley. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>Trades are performed recursively starting from the current node for every subtree. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00089">89</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   90</span>{</div>
<div class="line"><span class="lineno">   91</span>    assert(<a class="code hl_variable" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a>);</div>
<div class="line"><span class="lineno">   92</span>    <span class="keywordflow">if</span>(current_position.empty())</div>
<div class="line"><span class="lineno">   93</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   94</span> </div>
<div class="line"><span class="lineno">   95</span>    <span class="keyword">auto</span>&amp; current_city = <a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(current_position.value());</div>
<div class="line"><span class="lineno">   96</span>    </div>
<div class="line"><span class="lineno">   97</span>    <span class="keywordflow">if</span>(!current_position.left().empty())</div>
<div class="line"><span class="lineno">   98</span>    {</div>
<div class="line"><span class="lineno">   99</span>        current_city.TradeWith(<a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(current_position.left().value()));</div>
<div class="line"><span class="lineno">  100</span>        <a class="code hl_function" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">DoTrades</a>(current_position.left());</div>
<div class="line"><span class="lineno">  101</span>    }</div>
<div class="line"><span class="lineno">  102</span> </div>
<div class="line"><span class="lineno">  103</span>    <span class="keywordflow">if</span>(!current_position.right().empty())</div>
<div class="line"><span class="lineno">  104</span>    {</div>
<div class="line"><span class="lineno">  105</span>        current_city.TradeWith(<a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(current_position.right().value()));</div>
<div class="line"><span class="lineno">  106</span>        <a class="code hl_function" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">DoTrades</a>(current_position.right());</div>
<div class="line"><span class="lineno">  107</span>    }</div>
<div class="line"><span class="lineno">  108</span>}</div>
<div class="ttc" id="aclassValley_html_a75ff9182c65289925ff544ac37e6b792"><div class="ttname"><a href="classValley.html#a75ff9182c65289925ff544ac37e6b792">Valley::GetCity</a></div><div class="ttdeci">static City &amp; GetCity(const string &amp;id)</div><div class="ttdoc">Gets the city with the specified Id.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00080">Valley.cc:80</a></div></div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides d'aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a97bd06aed292614351b1db74566d0259_cgraph.png" border="0" usemap="#aclassValley_a97bd06aed292614351b1db74566d0259_cgraph" alt=""/></div>
<map name="aclassValley_a97bd06aed292614351b1db74566d0259_cgraph" id="aclassValley_a97bd06aed292614351b1db74566d0259_cgraph">
<area shape="rect" title="Will make the city at the given node trade with its children. At their time, the children will trade ..." alt="" coords="5,55,135,80"/>
<area shape="rect" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f" title="Performs trades in the Valley. Trades start recursively from the root node. The city in the root node..." alt="" coords="183,29,312,55"/>
<area shape="poly" title=" " alt="" coords="135,55,169,51,169,56,135,61"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified Id." alt="" coords="188,79,307,104"/>
<area shape="poly" title=" " alt="" coords="135,73,174,79,174,84,135,79"/>
<area shape="poly" title=" " alt="" coords="219,31,213,21,216,11,228,5,247,3,271,6,281,15,277,19,268,11,247,8,229,10,220,15,218,20,223,28"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified Id exists." alt="" coords="360,79,480,104"/>
<area shape="poly" title=" " alt="" coords="307,89,346,89,346,94,307,94"/>
</map>
</div>

</div>
</div>
<a id="aa61921a453bfcab8a76822fb16553560" name="aa61921a453bfcab8a76822fb16553560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa61921a453bfcab8a76822fb16553560">&#9670;&#160;</a></span>GetBestRoute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">Valley::NavStep</a> &gt; Valley::GetBestRoute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the best route for the ship. The best route is the shortest route possible where the maximum amount of product is bought and sold. </p>
<dl class="section pre"><dt>Precondició</dt><dd>The <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>The best possible route for the current ship is returned. No cities nor the ship have been modified</dd></dl>
<dl class="section return"><dt>Retorna</dt><dd>The best possible route. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00207">207</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  208</span>{</div>
<div class="line"><span class="lineno">  209</span>    <a class="code hl_struct" href="structValley_1_1RouteEvaluationResult.html">Valley::RouteEvaluationResult</a> best_route;</div>
<div class="line"><span class="lineno">  210</span>    vector&lt;Valley::NavStep&gt; empty_route;</div>
<div class="line"><span class="lineno">  211</span>    best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#abe1f6e8cbd027ff9cb234003b26fb247">route</a> = empty_route;</div>
<div class="line"><span class="lineno">  212</span>    <span class="keyword">auto</span> test_ship = <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#aa1d8fa2b53b89088bf55f1a760477835">Copy</a>();</div>
<div class="line"><span class="lineno">  213</span>    <a class="code hl_function" href="classValley.html#a168a713566fbb161885d17072414b32a">TestRouteStep</a>(empty_route, <a class="code hl_variable" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a>, 0, 0, 0, test_ship, best_route);</div>
<div class="line"><span class="lineno">  214</span>    <span class="keywordflow">return</span> best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#abe1f6e8cbd027ff9cb234003b26fb247">route</a>;</div>
<div class="line"><span class="lineno">  215</span>}</div>
<div class="ttc" id="aclassShip_html_aa1d8fa2b53b89088bf55f1a760477835"><div class="ttname"><a href="classShip.html#aa1d8fa2b53b89088bf55f1a760477835">Ship::Copy</a></div><div class="ttdeci">Ship Copy()</div><div class="ttdoc">Deep-copies the current ship instance and its attributes.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8hh_source.html#l00119">Ship.hh:119</a></div></div>
<div class="ttc" id="aclassValley_html_a168a713566fbb161885d17072414b32a"><div class="ttname"><a href="classValley.html#a168a713566fbb161885d17072414b32a">Valley::TestRouteStep</a></div><div class="ttdeci">static void TestRouteStep(vector&lt; NavStep &gt; &amp;current_route, const BinTree&lt; string &gt; &amp;current_location, int bought_amount, int sold_amount, int recently_skipped_cities, Ship &amp;test_ship, RouteEvaluationResult &amp;best_route)</div><div class="ttdoc">Tests a route step and updates the best route if necessary.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00116">Valley.cc:116</a></div></div>
<div class="ttc" id="aclassValley_html_a79fb1ecacc49127f34e147ac01d76941"><div class="ttname"><a href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">Valley::ship</a></div><div class="ttdeci">static Ship ship</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00054">Valley.hh:54</a></div></div>
<div class="ttc" id="astructValley_1_1RouteEvaluationResult_html"><div class="ttname"><a href="structValley_1_1RouteEvaluationResult.html">Valley::RouteEvaluationResult</a></div><div class="ttdoc">The RouteEvaluationResult struct represents the result of evaluating a possible route for the ship.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00041">Valley.hh:42</a></div></div>
<div class="ttc" id="astructValley_1_1RouteEvaluationResult_html_abe1f6e8cbd027ff9cb234003b26fb247"><div class="ttname"><a href="structValley_1_1RouteEvaluationResult.html#abe1f6e8cbd027ff9cb234003b26fb247">Valley::RouteEvaluationResult::route</a></div><div class="ttdeci">vector&lt; Valley::NavStep &gt; route</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00043">Valley.hh:43</a></div></div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides d'aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aa61921a453bfcab8a76822fb16553560_cgraph.png" border="0" usemap="#aclassValley_aa61921a453bfcab8a76822fb16553560_cgraph" alt=""/></div>
<map name="aclassValley_aa61921a453bfcab8a76822fb16553560_cgraph" id="aclassValley_aa61921a453bfcab8a76822fb16553560_cgraph">
<area shape="rect" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="5,265,164,291"/>
<area shape="rect" href="classShip.html#aa1d8fa2b53b89088bf55f1a760477835" title="Deep&#45;copies the current ship instance and its attributes." alt="" coords="487,127,578,152"/>
<area shape="poly" title=" " alt="" coords="126,263,476,154,478,159,127,268"/>
<area shape="rect" href="classValley.html#a168a713566fbb161885d17072414b32a" title="Tests a route step and updates the best route if necessary." alt="" coords="212,303,375,328"/>
<area shape="poly" title=" " alt="" coords="157,288,209,298,208,303,156,293"/>
<area shape="rect" href="classProduct.html#a4b7b9ac3ecf67501fc1c36bddd09027e" title="Get the available amount of the product." alt="" coords="691,5,893,31"/>
<area shape="poly" title=" " alt="" coords="549,124,609,83,648,60,690,40,711,32,713,37,692,44,651,64,612,87,552,129"/>
<area shape="rect" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893" title="Get the Id of the product." alt="" coords="735,177,849,203"/>
<area shape="poly" title=" " alt="" coords="579,145,722,174,721,179,578,151"/>
<area shape="rect" href="classProduct.html#a2d7e6bd6d110b48fafd68deee4d1805f" title="Get the predefined wanted amount of the product. This method returns the initially set wanted amount,..." alt="" coords="691,55,893,80"/>
<area shape="poly" title=" " alt="" coords="572,124,690,89,721,81,723,86,691,94,574,129"/>
<area shape="rect" href="classShip.html#ab7608fcfc4d27c678aacaf9bfd68a462" title="Default constructor for the Ship class." alt="" coords="749,128,835,153"/>
<area shape="poly" title=" " alt="" coords="578,137,734,138,734,143,578,142"/>
<area shape="poly" title=" " alt="" coords="750,130,741,120,746,110,763,103,792,101,829,105,839,110,843,116,838,119,835,114,827,110,792,107,764,109,749,114,746,119,754,126"/>
<area shape="poly" title=" " alt="" coords="300,301,346,238,381,201,421,169,447,156,473,147,475,152,449,161,424,174,384,205,350,241,305,304"/>
<area shape="poly" title=" " alt="" coords="304,301,351,256,385,232,422,213,499,191,580,180,656,178,721,180,721,186,656,183,580,186,501,196,424,218,388,236,355,260,308,305"/>
<area shape="poly" title=" " alt="" coords="259,304,252,294,256,284,270,278,293,276,322,280,334,289,330,293,320,285,293,281,271,283,259,288,257,294,263,301"/>
<area shape="rect" href="classShip.html#abfe895d54721c20ddcff465cf37ac308" title="Getter for the buying product." alt="" coords="457,228,609,253"/>
<area shape="poly" title=" " alt="" coords="322,300,422,262,452,254,453,259,423,267,324,305"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified Id." alt="" coords="473,277,592,303"/>
<area shape="poly" title=" " alt="" coords="375,304,459,295,460,300,375,309"/>
<area shape="rect" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd" title="Get the exceeding amount of the product. This method returns 0 if the product has a negative balance ..." alt="" coords="423,327,643,352"/>
<area shape="poly" title=" " alt="" coords="375,321,409,324,409,330,375,326"/>
<area shape="rect" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a" title="Get the missing amount of the product. This method returns 0 if the product has a positive balance (G..." alt="" coords="431,376,634,401"/>
<area shape="poly" title=" " alt="" coords="326,326,423,361,458,370,457,375,422,366,324,331"/>
<area shape="rect" href="classProduct.html#af78eb83686a0703b6818721d31d0e7c2" title="Restock a certain amount of the product. This method will not update the weights and volumes on any c..." alt="" coords="441,425,624,451"/>
<area shape="poly" title=" " alt="" coords="309,326,357,368,389,391,424,410,446,419,444,424,422,415,386,395,354,372,306,330"/>
<area shape="rect" href="classShip.html#af97be45c84069be682979f6c9d90880f" title="Getter for the selling product." alt="" coords="457,475,608,500"/>
<area shape="poly" title=" " alt="" coords="304,327,349,391,384,429,424,460,445,470,443,475,421,464,380,432,345,395,300,330"/>
<area shape="rect" href="classProduct.html#a8dbcd165158a8d6f1f6d6fb143674890" title="Withdraw a certain amount from the product. This method will not update the weights and volumes on an..." alt="" coords="437,524,629,549"/>
<area shape="poly" title=" " alt="" coords="302,327,316,364,342,414,378,467,400,490,424,510,433,516,430,520,421,515,396,494,374,470,337,417,312,367,297,329"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified Id exists." alt="" coords="732,277,852,303"/>
<area shape="poly" title=" " alt="" coords="592,287,718,287,718,293,592,293"/>
</map>
</div>
<div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aa61921a453bfcab8a76822fb16553560_icgraph.png" border="0" usemap="#aclassValley_aa61921a453bfcab8a76822fb16553560_icgraph" alt=""/></div>
<map name="aclassValley_aa61921a453bfcab8a76822fb16553560_icgraph" id="aclassValley_aa61921a453bfcab8a76822fb16553560_icgraph">
<area shape="rect" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="108,5,267,31"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a75ff9182c65289925ff544ac37e6b792" name="a75ff9182c65289925ff544ac37e6b792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ff9182c65289925ff544ac37e6b792">&#9670;&#160;</a></span>GetCity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCity.html">City</a> &amp; Valley::GetCity </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the city with the specified Id. </p>
<dl class="params"><dt>Paràmetres</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The Id of the city.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondició</dt><dd>The city with the specified Id exists. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>The city with the specified Id is returned.</dd></dl>
<dl class="section return"><dt>Retorna</dt><dd>The city with the specified Id. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00080">80</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   81</span>{</div>
<div class="line"><span class="lineno">   82</span>    assert(<a class="code hl_variable" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a>);</div>
<div class="line"><span class="lineno">   83</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d">HasCity</a>(<span class="keywordtype">id</span>))</div>
<div class="line"><span class="lineno">   84</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classValley.html#afebc5484b9933c6d53d54e8a43632970">invalid_city</a>;</div>
<div class="line"><span class="lineno">   85</span> </div>
<div class="line"><span class="lineno">   86</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.at(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">   87</span>}</div>
<div class="ttc" id="aclassValley_html_a72b588ac6bb53e4777778a4ca8f89725"><div class="ttname"><a href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">Valley::cities</a></div><div class="ttdeci">static unordered_map&lt; string, City &gt; cities</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00053">Valley.hh:53</a></div></div>
<div class="ttc" id="aclassValley_html_ab9ae654d0a8f51b5c80ec9e88447fe7d"><div class="ttname"><a href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d">Valley::HasCity</a></div><div class="ttdeci">static bool HasCity(const string &amp;id)</div><div class="ttdoc">Checks if a city with the specified Id exists.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00074">Valley.cc:74</a></div></div>
<div class="ttc" id="aclassValley_html_afebc5484b9933c6d53d54e8a43632970"><div class="ttname"><a href="classValley.html#afebc5484b9933c6d53d54e8a43632970">Valley::invalid_city</a></div><div class="ttdeci">static City invalid_city</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00049">Valley.hh:49</a></div></div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides d'aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a75ff9182c65289925ff544ac37e6b792_cgraph.png" border="0" usemap="#aclassValley_a75ff9182c65289925ff544ac37e6b792_cgraph" alt=""/></div>
<map name="aclassValley_a75ff9182c65289925ff544ac37e6b792_cgraph" id="aclassValley_a75ff9182c65289925ff544ac37e6b792_cgraph">
<area shape="rect" title="Gets the city with the specified Id." alt="" coords="5,5,124,31"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified Id exists." alt="" coords="172,5,292,31"/>
<area shape="poly" title=" " alt="" coords="124,15,158,15,158,21,124,21"/>
</map>
</div>
<div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a75ff9182c65289925ff544ac37e6b792_icgraph.png" border="0" usemap="#aclassValley_a75ff9182c65289925ff544ac37e6b792_icgraph" alt=""/></div>
<map name="aclassValley_a75ff9182c65289925ff544ac37e6b792_icgraph" id="aclassValley_a75ff9182c65289925ff544ac37e6b792_icgraph">
<area shape="rect" title="Gets the city with the specified Id." alt="" coords="533,81,652,107"/>
<area shape="rect" href="classValley.html#a97bd06aed292614351b1db74566d0259" title="Will make the city at the given node trade with its children. At their time, the children will trade ..." alt="" coords="339,5,469,31"/>
<area shape="poly" title=" " alt="" coords="547,78,484,52,436,33,438,28,486,48,549,73"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="5,107,60,132"/>
<area shape="poly" title=" " alt="" coords="520,92,485,90,296,80,213,82,109,97,61,111,59,106,107,91,213,77,296,75,485,85,520,86"/>
<area shape="rect" href="classValley.html#a2d27338b1463dfa8f30f5e1e1c4e9a89" title="Navigates the specified route, updating the cities of the valley accordingly." alt="" coords="108,107,275,132"/>
<area shape="poly" title=" " alt="" coords="519,101,275,117,275,111,519,96"/>
<area shape="rect" href="classValley.html#a168a713566fbb161885d17072414b32a" title="Tests a route step and updates the best route if necessary." alt="" coords="323,181,485,207"/>
<area shape="poly" title=" " alt="" coords="557,116,430,184,428,179,554,111"/>
<area shape="poly" title=" " alt="" coords="94,122,60,122,60,117,94,117"/>
<area shape="poly" title=" " alt="" coords="437,171,428,163,404,160,384,162,374,167,372,172,377,180,373,183,367,173,370,163,383,157,404,155,430,158,440,167"/>
<area shape="rect" href="classValley.html#aa61921a453bfcab8a76822fb16553560" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="112,168,271,193"/>
<area shape="poly" title=" " alt="" coords="308,191,271,188,271,183,309,185"/>
<area shape="poly" title=" " alt="" coords="144,166,59,132,61,127,146,161"/>
</map>
</div>

</div>
</div>
<a id="a150cd1a95764b0b85e8d57aecc73b0c0" name="a150cd1a95764b0b85e8d57aecc73b0c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a150cd1a95764b0b85e8d57aecc73b0c0">&#9670;&#160;</a></span>GetCityIds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; string &gt; Valley::GetCityIds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the list of city Ids in the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a>. </p>
<dl class="section pre"><dt>Precondició</dt><dd>None. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>The list of city Ids is returned.</dd></dl>
<dl class="section return"><dt>Retorna</dt><dd>The list of city Ids. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00062">62</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   63</span>{</div>
<div class="line"><span class="lineno">   64</span>    assert(<a class="code hl_variable" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a>);</div>
<div class="line"><span class="lineno">   65</span>    vector&lt;string&gt; names(<a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.size(), <span class="stringliteral">&quot;&quot;</span>);</div>
<div class="line"><span class="lineno">   66</span>    <span class="keywordtype">int</span> i = 0;</div>
<div class="line"><span class="lineno">   67</span>    <span class="keyword">auto</span> it = <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.begin();</div>
<div class="line"><span class="lineno">   68</span>    <span class="keywordflow">while</span>(it != <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.end())</div>
<div class="line"><span class="lineno">   69</span>        names[i++] = (it++)-&gt;first;</div>
<div class="line"><span class="lineno">   70</span> </div>
<div class="line"><span class="lineno">   71</span>    <span class="keywordflow">return</span> names;</div>
<div class="line"><span class="lineno">   72</span>}</div>
</div><!-- fragment -->
</div>
</div>
<a id="a32128482f1832fafabeb95954a489bec" name="a32128482f1832fafabeb95954a489bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32128482f1832fafabeb95954a489bec">&#9670;&#160;</a></span>GetRiverNodeFromStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BinTree&lt; string &gt; Valley::GetRiverNodeFromStream </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a river node and its children from an input stream. </p>
<dl class="params"><dt>Paràmetres</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>An input stream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondició</dt><dd>The input stream is open and valid. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>The current node and its children are read and returned.</dd></dl>
<dl class="section return"><dt>Retorna</dt><dd>The river structure represented on a BinTree&lt;string&gt; object. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00023">23</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>{</div>
<div class="line"><span class="lineno">   25</span>    <span class="comment">// Read city name and check if city is valid</span></div>
<div class="line"><span class="lineno">   26</span>    <span class="keywordtype">string</span> city_name;</div>
<div class="line"><span class="lineno">   27</span>    stream &gt;&gt; city_name;</div>
<div class="line"><span class="lineno">   28</span>    <span class="keywordflow">if</span>(city_name == <span class="stringliteral">&quot;#&quot;</span>) </div>
<div class="line"><span class="lineno">   29</span>        <span class="keywordflow">return</span> BinTree&lt;string&gt;();</div>
<div class="line"><span class="lineno">   30</span>    </div>
<div class="line"><span class="lineno">   31</span>    <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.emplace(city_name, <a class="code hl_class" href="classCity.html">City</a>(city_name));</div>
<div class="line"><span class="lineno">   32</span> </div>
<div class="line"><span class="lineno">   33</span>    BinTree&lt;string&gt; left = <a class="code hl_function" href="classValley.html#a32128482f1832fafabeb95954a489bec">GetRiverNodeFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   34</span>    BinTree&lt;string&gt; right = <a class="code hl_function" href="classValley.html#a32128482f1832fafabeb95954a489bec">GetRiverNodeFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   35</span>    </div>
<div class="line"><span class="lineno">   36</span>    <span class="keywordflow">return</span> BinTree&lt;string&gt;(city_name, left, right);</div>
<div class="line"><span class="lineno">   37</span>}</div>
<div class="ttc" id="aclassCity_html"><div class="ttname"><a href="classCity.html">City</a></div><div class="ttdoc">Represents a city with an inventory of Product items.</div><div class="ttdef"><b>Definition</b> <a href="City_8hh_source.html#l00029">City.hh:30</a></div></div>
<div class="ttc" id="aclassValley_html_a32128482f1832fafabeb95954a489bec"><div class="ttname"><a href="classValley.html#a32128482f1832fafabeb95954a489bec">Valley::GetRiverNodeFromStream</a></div><div class="ttdeci">static BinTree&lt; string &gt; GetRiverNodeFromStream(istream &amp;stream)</div><div class="ttdoc">Reads a river node and its children from an input stream.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00023">Valley.cc:23</a></div></div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides d'aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a32128482f1832fafabeb95954a489bec_cgraph.png" border="0" usemap="#aclassValley_a32128482f1832fafabeb95954a489bec_cgraph" alt=""/></div>
<map name="aclassValley_a32128482f1832fafabeb95954a489bec_cgraph" id="aclassValley_a32128482f1832fafabeb95954a489bec_cgraph">
<area shape="rect" title="Reads a river node and its children from an input stream." alt="" coords="5,29,199,69"/>
<area shape="poly" title=" " alt="" coords="66,30,64,20,69,11,82,5,102,3,125,6,137,13,134,17,123,11,102,8,84,10,73,15,69,21,71,28"/>
</map>
</div>
<div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a32128482f1832fafabeb95954a489bec_icgraph.png" border="0" usemap="#aclassValley_a32128482f1832fafabeb95954a489bec_icgraph" alt=""/></div>
<map name="aclassValley_a32128482f1832fafabeb95954a489bec_icgraph" id="aclassValley_a32128482f1832fafabeb95954a489bec_icgraph">
<area shape="rect" title="Reads a river node and its children from an input stream." alt="" coords="628,29,821,69"/>
<area shape="poly" title=" " alt="" coords="768,18,753,11,725,8,700,10,685,15,680,21,683,28,678,30,675,20,682,10,699,5,725,3,754,6,770,13"/>
<area shape="rect" href="classValley.html#a8bdfffd571d76986c7aaa277d2150362" title="Reads the cities from the input stream, overwriting the old Valley contents, if any...." alt="" coords="361,37,580,62"/>
<area shape="poly" title=" " alt="" coords="614,52,580,52,580,47,614,47"/>
<area shape="rect" href="classValley.html#aab63536d9205e6bbfede92c0c5d66d25" title="Initializes the Valley from the input stream. This implies reading the products to be added to the Pr..." alt="" coords="108,11,313,37"/>
<area shape="poly" title=" " alt="" coords="348,40,313,37,314,31,348,35"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="5,37,60,62"/>
<area shape="poly" title=" " alt="" coords="347,52,60,52,60,47,347,47"/>
<area shape="poly" title=" " alt="" coords="108,41,60,48,60,43,107,36"/>
</map>
</div>

</div>
</div>
<a id="a070726f5f925f2a2891aa5226ef58f17" name="a070726f5f925f2a2891aa5226ef58f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070726f5f925f2a2891aa5226ef58f17">&#9670;&#160;</a></span>GetShip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShip.html">Ship</a> &amp; Valley::GetShip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a reference to the ship. </p>
<dl class="section pre"><dt>Precondició</dt><dd>None. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>A reference to the ship is returned.</dd></dl>
<dl class="section return"><dt>Retorna</dt><dd>A reference to the ship. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00056">56</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   57</span>{</div>
<div class="line"><span class="lineno">   58</span>    assert(<a class="code hl_variable" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a>);</div>
<div class="line"><span class="lineno">   59</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>;</div>
<div class="line"><span class="lineno">   60</span>}</div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a070726f5f925f2a2891aa5226ef58f17_icgraph.png" border="0" usemap="#aclassValley_a070726f5f925f2a2891aa5226ef58f17_icgraph" alt=""/></div>
<map name="aclassValley_a070726f5f925f2a2891aa5226ef58f17_icgraph" id="aclassValley_a070726f5f925f2a2891aa5226ef58f17_icgraph">
<area shape="rect" title="Gets a reference to the ship." alt="" coords="108,5,228,31"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="ab9ae654d0a8f51b5c80ec9e88447fe7d" name="ab9ae654d0a8f51b5c80ec9e88447fe7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9ae654d0a8f51b5c80ec9e88447fe7d">&#9670;&#160;</a></span>HasCity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Valley::HasCity </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a city with the specified Id exists. </p>
<dl class="params"><dt>Paràmetres</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The Id of the city.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondició</dt><dd>The city Id is a non-empty string </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>True is returned if a city with the specified Id exists, false otherwise.</dd></dl>
<dl class="section return"><dt>Retorna</dt><dd>True if a city with the specified Id exists, false otherwise. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00074">74</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   75</span>{</div>
<div class="line"><span class="lineno">   76</span>    assert(<a class="code hl_variable" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a>);</div>
<div class="line"><span class="lineno">   77</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.find(<span class="keywordtype">id</span>) != <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.end();</div>
<div class="line"><span class="lineno">   78</span>}</div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_icgraph.png" border="0" usemap="#aclassValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_icgraph" alt=""/></div>
<map name="aclassValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_icgraph" id="aclassValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_icgraph">
<area shape="rect" title="Checks if a city with the specified Id exists." alt="" coords="700,169,820,195"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified Id." alt="" coords="533,107,652,132"/>
<area shape="poly" title=" " alt="" coords="712,167,627,135,629,130,714,162"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="5,132,60,157"/>
<area shape="poly" title=" " alt="" coords="704,201,591,227,519,238,440,247,357,250,272,246,188,233,107,208,70,186,43,160,47,156,73,181,109,204,189,228,272,241,357,245,440,242,519,233,590,221,703,196"/>
<area shape="rect" href="classValley.html#a97bd06aed292614351b1db74566d0259" title="Will make the city at the given node trade with its children. At their time, the children will trade ..." alt="" coords="339,5,469,31"/>
<area shape="poly" title=" " alt="" coords="561,101,484,52,440,33,443,28,487,48,564,96"/>
<area shape="poly" title=" " alt="" coords="523,107,438,93,334,83,220,85,164,91,109,103,77,117,51,134,48,130,75,112,107,98,163,86,220,79,334,78,439,87,523,101"/>
<area shape="rect" href="classValley.html#a2d27338b1463dfa8f30f5e1e1c4e9a89" title="Navigates the specified route, updating the cities of the valley accordingly." alt="" coords="108,113,275,139"/>
<area shape="poly" title=" " alt="" coords="519,123,275,127,275,122,519,118"/>
<area shape="rect" href="classValley.html#a168a713566fbb161885d17072414b32a" title="Tests a route step and updates the best route if necessary." alt="" coords="323,181,485,207"/>
<area shape="poly" title=" " alt="" coords="548,140,438,184,436,179,546,135"/>
<area shape="poly" title=" " alt="" coords="95,140,60,144,60,139,94,135"/>
<area shape="poly" title=" " alt="" coords="437,171,428,163,404,160,384,162,374,167,372,172,377,180,373,183,367,173,370,163,383,157,404,155,430,158,440,167"/>
<area shape="rect" href="classValley.html#aa61921a453bfcab8a76822fb16553560" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="112,169,271,195"/>
<area shape="poly" title=" " alt="" coords="308,191,271,189,271,184,309,186"/>
<area shape="poly" title=" " alt="" coords="123,169,60,154,61,148,124,163"/>
</map>
</div>

</div>
</div>
<a id="aab63536d9205e6bbfede92c0c5d66d25" name="aab63536d9205e6bbfede92c0c5d66d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab63536d9205e6bbfede92c0c5d66d25">&#9670;&#160;</a></span>InitializeFromStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::InitializeFromStream </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> from the input stream. This implies reading the products to be added to the <a class="el" href="classProductReference.html" title="Stores the data (in ProductData objects) and keeps track of all the existing products.">ProductReference</a>, the cities that of the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> and the <a class="el" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products.">Ship</a>. </p>
<dl class="params"><dt>Paràmetres</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The input stream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondició</dt><dd>The input stream is open and valid. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>The <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized from the input stream. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00046">46</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   47</span>{</div>
<div class="line"><span class="lineno">   48</span>    <span class="keywordtype">int</span> count;</div>
<div class="line"><span class="lineno">   49</span>    stream &gt;&gt; count;</div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_function" href="classProductReference.html#a9ff086f81c4e1c5d8fafa63ff18bf947">ProductReference::AddFromStream</a>(stream, count);</div>
<div class="line"><span class="lineno">   51</span>    <a class="code hl_function" href="classValley.html#a8bdfffd571d76986c7aaa277d2150362">ReadCitiesFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   52</span>    <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#ac76c91ac599c08677f9540a4bf128d55">ReadFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   53</span>    <a class="code hl_variable" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   54</span>}</div>
<div class="ttc" id="aclassProductReference_html_a9ff086f81c4e1c5d8fafa63ff18bf947"><div class="ttname"><a href="classProductReference.html#a9ff086f81c4e1c5d8fafa63ff18bf947">ProductReference::AddFromStream</a></div><div class="ttdeci">static void AddFromStream(istream &amp;reader, int count)</div><div class="ttdoc">Adds multiple product data from an input stream to the reference.</div><div class="ttdef"><b>Definition</b> <a href="ProductReference_8cc_source.html#l00027">ProductReference.cc:27</a></div></div>
<div class="ttc" id="aclassShip_html_ac76c91ac599c08677f9540a4bf128d55"><div class="ttname"><a href="classShip.html#ac76c91ac599c08677f9540a4bf128d55">Ship::ReadFromStream</a></div><div class="ttdeci">void ReadFromStream(istream &amp;stream)</div><div class="ttdoc">Reads ship data (buy and sell products) from a stream.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00031">Ship.cc:31</a></div></div>
<div class="ttc" id="aclassValley_html_a8bdfffd571d76986c7aaa277d2150362"><div class="ttname"><a href="classValley.html#a8bdfffd571d76986c7aaa277d2150362">Valley::ReadCitiesFromStream</a></div><div class="ttdeci">static void ReadCitiesFromStream(istream &amp;stream)</div><div class="ttdoc">Reads the cities from the input stream, overwriting the old Valley contents, if any....</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00039">Valley.cc:39</a></div></div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides d'aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aab63536d9205e6bbfede92c0c5d66d25_cgraph.png" border="0" usemap="#aclassValley_aab63536d9205e6bbfede92c0c5d66d25_cgraph" alt=""/></div>
<map name="aclassValley_aab63536d9205e6bbfede92c0c5d66d25_cgraph" id="aclassValley_aab63536d9205e6bbfede92c0c5d66d25_cgraph">
<area shape="rect" title="Initializes the Valley from the input stream. This implies reading the products to be added to the Pr..." alt="" coords="5,101,211,127"/>
<area shape="rect" href="classProductReference.html#a9ff086f81c4e1c5d8fafa63ff18bf947" title="Adds multiple product data from an input stream to the reference." alt="" coords="267,18,469,58"/>
<area shape="poly" title=" " alt="" coords="152,99,285,59,287,64,153,104"/>
<area shape="rect" href="classValley.html#a8bdfffd571d76986c7aaa277d2150362" title="Reads the cities from the input stream, overwriting the old Valley contents, if any...." alt="" coords="259,101,477,127"/>
<area shape="poly" title=" " alt="" coords="211,111,245,111,245,117,211,117"/>
<area shape="rect" href="classShip.html#ac76c91ac599c08677f9540a4bf128d55" title="Reads ship data (buy and sell products) from a stream." alt="" coords="283,165,453,191"/>
<area shape="poly" title=" " alt="" coords="161,124,303,159,302,165,160,129"/>
<area shape="rect" href="classProductReference.html#af630d539e0634a36b34767a7d2c0ea6a" title="Adds a new product data to the reference." alt="" coords="541,5,712,31"/>
<area shape="poly" title=" " alt="" coords="469,28,527,23,528,28,470,33"/>
<area shape="rect" href="classValley.html#a32128482f1832fafabeb95954a489bec" title="Reads a river node and its children from an input stream." alt="" coords="530,79,723,119"/>
<area shape="poly" title=" " alt="" coords="477,105,516,103,516,108,478,110"/>
<area shape="rect" href="classShip.html#abb2c0d5a167cbde9bc0e79c6a66a374e" title="Resets the list of visited cities." alt="" coords="538,144,715,169"/>
<area shape="poly" title=" " alt="" coords="446,124,536,139,535,144,445,129"/>
<area shape="poly" title=" " alt="" coords="579,80,576,70,584,60,601,55,627,53,657,56,673,63,671,68,655,61,627,58,602,60,586,65,581,71,584,78"/>
<area shape="rect" href="classProductReference.html#a9b2c978acd5d9989cd10ab93dc358cac" title="Checks if the reference contains product data with the specified Id." alt="" coords="525,193,728,219"/>
<area shape="poly" title=" " alt="" coords="454,185,512,191,511,196,453,190"/>
</map>
</div>
<div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aab63536d9205e6bbfede92c0c5d66d25_icgraph.png" border="0" usemap="#aclassValley_aab63536d9205e6bbfede92c0c5d66d25_icgraph" alt=""/></div>
<map name="aclassValley_aab63536d9205e6bbfede92c0c5d66d25_icgraph" id="aclassValley_aab63536d9205e6bbfede92c0c5d66d25_icgraph">
<area shape="rect" title="Initializes the Valley from the input stream. This implies reading the products to be added to the Pr..." alt="" coords="108,5,313,31"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a2d27338b1463dfa8f30f5e1e1c4e9a89" name="a2d27338b1463dfa8f30f5e1e1c4e9a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d27338b1463dfa8f30f5e1e1c4e9a89">&#9670;&#160;</a></span>NavigateRoute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Valley::NavigateRoute </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Navigates the specified route, updating the cities of the valley accordingly. </p>
<dl class="params"><dt>Paràmetres</dt><dd>
  <table class="params">
    <tr><td class="paramname">route</td><td>The route to navigate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondició</dt><dd>The <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized and the given route is valid. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>The route is navigated and the total number of trades is returned. Cities have been updated with the performed trades, and the ship has saved the last traded city (if any). The products of the ship, however, have been maintained intact.</dd></dl>
<dl class="section return"><dt>Retorna</dt><dd>The total number of trades. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00218">218</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  219</span>{</div>
<div class="line"><span class="lineno">  220</span>    <span class="keyword">auto</span> route = route_;</div>
<div class="line"><span class="lineno">  221</span>    <span class="keywordtype">int</span> route_position = 0;</div>
<div class="line"><span class="lineno">  222</span>    <span class="keywordtype">int</span> total_traded = 0;</div>
<div class="line"><span class="lineno">  223</span>    BinTree&lt;string&gt; location = <a class="code hl_variable" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a>;</div>
<div class="line"><span class="lineno">  224</span>    <span class="keywordtype">string</span> last_traded_city = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  225</span> </div>
<div class="line"><span class="lineno">  226</span>    <a class="code hl_class" href="classProduct.html">Product</a> current_buying_product = <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#abfe895d54721c20ddcff465cf37ac308">BuyingProduct</a>();</div>
<div class="line"><span class="lineno">  227</span>    <a class="code hl_class" href="classProduct.html">Product</a> current_selling_product = <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#af97be45c84069be682979f6c9d90880f">SellingProduct</a>();</div>
<div class="line"><span class="lineno">  228</span> </div>
<div class="line"><span class="lineno">  229</span>    <span class="keywordflow">while</span>(route_position &lt;= route.size())</div>
<div class="line"><span class="lineno">  230</span>    {</div>
<div class="line"><span class="lineno">  231</span>        <span class="keyword">auto</span>&amp; city = <a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(location.value());</div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordtype">int</span> city_traded = 0;</div>
<div class="line"><span class="lineno">  233</span> </div>
<div class="line"><span class="lineno">  234</span>        <span class="comment">// Calculate how much product is going to be bought from the city</span></div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordtype">int</span> buying_id = current_buying_product.<a class="code hl_function" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">GetId</a>();</div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">if</span>(city.HasProduct(buying_id) &amp;&amp; city.GetProductExceedingAmount(buying_id) &gt; 0)</div>
<div class="line"><span class="lineno">  237</span>        {</div>
<div class="line"><span class="lineno">  238</span>            <span class="keywordtype">int</span> amount_to_buy = min(</div>
<div class="line"><span class="lineno">  239</span>                current_buying_product.<a class="code hl_function" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a">GetMissingAmount</a>(),</div>
<div class="line"><span class="lineno">  240</span>                city.GetProductExceedingAmount(buying_id)</div>
<div class="line"><span class="lineno">  241</span>            );</div>
<div class="line"><span class="lineno">  242</span>            current_buying_product.<a class="code hl_function" href="classProduct.html#af78eb83686a0703b6818721d31d0e7c2">RestockAmount</a>(amount_to_buy);</div>
<div class="line"><span class="lineno">  243</span>            city.WithdrawProductAmount(buying_id, amount_to_buy);</div>
<div class="line"><span class="lineno">  244</span>            city_traded += amount_to_buy;</div>
<div class="line"><span class="lineno">  245</span>        }</div>
<div class="line"><span class="lineno">  246</span> </div>
<div class="line"><span class="lineno">  247</span>        <span class="comment">// Calculate how much product is going to be sold to the city</span></div>
<div class="line"><span class="lineno">  248</span>        <span class="keywordtype">int</span> selling_id = current_selling_product.<a class="code hl_function" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">GetId</a>();</div>
<div class="line"><span class="lineno">  249</span>        <span class="keywordflow">if</span>(city.HasProduct(selling_id) &amp;&amp; city.GetProductMissingAmount(selling_id) &gt; 0)</div>
<div class="line"><span class="lineno">  250</span>        {</div>
<div class="line"><span class="lineno">  251</span>            <span class="keywordtype">int</span> amount_to_sell = min(</div>
<div class="line"><span class="lineno">  252</span>                current_selling_product.<a class="code hl_function" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd">GetExceedingAmount</a>(), </div>
<div class="line"><span class="lineno">  253</span>                city.GetProductMissingAmount(selling_id)</div>
<div class="line"><span class="lineno">  254</span>            );</div>
<div class="line"><span class="lineno">  255</span>            current_selling_product.<a class="code hl_function" href="classProduct.html#a8dbcd165158a8d6f1f6d6fb143674890">WithdrawAmount</a>(amount_to_sell);</div>
<div class="line"><span class="lineno">  256</span>            city.RestockProductAmount(selling_id, amount_to_sell);</div>
<div class="line"><span class="lineno">  257</span>            city_traded += amount_to_sell;</div>
<div class="line"><span class="lineno">  258</span>        }</div>
<div class="line"><span class="lineno">  259</span> </div>
<div class="line"><span class="lineno">  260</span>        total_traded += city_traded;</div>
<div class="line"><span class="lineno">  261</span>        <span class="comment">// Only count a city as traded with when it has actually traded things</span></div>
<div class="line"><span class="lineno">  262</span>        <span class="keywordflow">if</span>(city_traded &gt; 0)</div>
<div class="line"><span class="lineno">  263</span>            last_traded_city = location.value();</div>
<div class="line"><span class="lineno">  264</span> </div>
<div class="line"><span class="lineno">  265</span>        </div>
<div class="line"><span class="lineno">  266</span>        <span class="comment">// If this is the last city, do not try to unpack the next position from route</span></div>
<div class="line"><span class="lineno">  267</span>        <span class="keywordflow">if</span>(route_position == route.size())</div>
<div class="line"><span class="lineno">  268</span>            route_position++;</div>
<div class="line"><span class="lineno">  269</span>        <span class="comment">// Otherwise, navigate to the next position</span></div>
<div class="line"><span class="lineno">  270</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(route[route_position++] == <a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Valley::NavStep::Left</a>)</div>
<div class="line"><span class="lineno">  271</span>            location = location.left();</div>
<div class="line"><span class="lineno">  272</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  273</span>            location = location.right();</div>
<div class="line"><span class="lineno">  274</span>    }</div>
<div class="line"><span class="lineno">  275</span> </div>
<div class="line"><span class="lineno">  276</span>    <span class="keywordflow">if</span>(total_traded &gt; 0)</div>
<div class="line"><span class="lineno">  277</span>        <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#ab23c83b11f4a3aadbbaaeff062975b76">AddVisitedCity</a>(last_traded_city);</div>
<div class="line"><span class="lineno">  278</span> </div>
<div class="line"><span class="lineno">  279</span>    <span class="keywordflow">return</span> total_traded;</div>
<div class="line"><span class="lineno">  280</span>}</div>
<div class="ttc" id="aclassProduct_html"><div class="ttname"><a href="classProduct.html">Product</a></div><div class="ttdoc">Represents a product. A product object has an available amount and a wanted amount of units,...</div><div class="ttdef"><b>Definition</b> <a href="Product_8hh_source.html#l00019">Product.hh:20</a></div></div>
<div class="ttc" id="aclassProduct_html_a0c42f35816a3fa42d9f3f985ca23f90a"><div class="ttname"><a href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a">Product::GetMissingAmount</a></div><div class="ttdeci">int GetMissingAmount() const</div><div class="ttdoc">Get the missing amount of the product. This method returns 0 if the product has a positive balance (G...</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00049">Product.cc:49</a></div></div>
<div class="ttc" id="aclassProduct_html_a8dbcd165158a8d6f1f6d6fb143674890"><div class="ttname"><a href="classProduct.html#a8dbcd165158a8d6f1f6d6fb143674890">Product::WithdrawAmount</a></div><div class="ttdeci">void WithdrawAmount(int amount)</div><div class="ttdoc">Withdraw a certain amount from the product. This method will not update the weights and volumes on an...</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00057">Product.cc:57</a></div></div>
<div class="ttc" id="aclassProduct_html_a8f4bf3557d4819295e408fbf938e77bd"><div class="ttname"><a href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd">Product::GetExceedingAmount</a></div><div class="ttdeci">int GetExceedingAmount() const</div><div class="ttdoc">Get the exceeding amount of the product. This method returns 0 if the product has a negative balance ...</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00041">Product.cc:41</a></div></div>
<div class="ttc" id="aclassProduct_html_adae0bac61207aedcba747c07bbd0b893"><div class="ttname"><a href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">Product::GetId</a></div><div class="ttdeci">int GetId() const</div><div class="ttdoc">Get the Id of the product.</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00026">Product.cc:26</a></div></div>
<div class="ttc" id="aclassProduct_html_af78eb83686a0703b6818721d31d0e7c2"><div class="ttname"><a href="classProduct.html#af78eb83686a0703b6818721d31d0e7c2">Product::RestockAmount</a></div><div class="ttdeci">void RestockAmount(int amount)</div><div class="ttdoc">Restock a certain amount of the product. This method will not update the weights and volumes on any c...</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00063">Product.cc:63</a></div></div>
<div class="ttc" id="aclassShip_html_ab23c83b11f4a3aadbbaaeff062975b76"><div class="ttname"><a href="classShip.html#ab23c83b11f4a3aadbbaaeff062975b76">Ship::AddVisitedCity</a></div><div class="ttdeci">void AddVisitedCity(const string &amp;city)</div><div class="ttdoc">Adds a city to the list of visited cities.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00052">Ship.cc:52</a></div></div>
<div class="ttc" id="aclassShip_html_abfe895d54721c20ddcff465cf37ac308"><div class="ttname"><a href="classShip.html#abfe895d54721c20ddcff465cf37ac308">Ship::BuyingProduct</a></div><div class="ttdeci">Product &amp; BuyingProduct()</div><div class="ttdoc">Getter for the buying product.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00021">Ship.cc:21</a></div></div>
<div class="ttc" id="aclassShip_html_af97be45c84069be682979f6c9d90880f"><div class="ttname"><a href="classShip.html#af97be45c84069be682979f6c9d90880f">Ship::SellingProduct</a></div><div class="ttdeci">Product &amp; SellingProduct()</div><div class="ttdoc">Getter for the selling product.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00026">Ship.cc:26</a></div></div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides d'aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_cgraph.png" border="0" usemap="#aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_cgraph" alt=""/></div>
<map name="aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_cgraph" id="aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_cgraph">
<area shape="rect" title="Navigates the specified route, updating the cities of the valley accordingly." alt="" coords="5,203,172,228"/>
<area shape="rect" href="classShip.html#ab23c83b11f4a3aadbbaaeff062975b76" title="Adds a city to the list of visited cities." alt="" coords="253,5,407,31"/>
<area shape="poly" title=" " alt="" coords="93,201,110,168,137,124,173,78,219,40,238,30,241,34,221,44,177,82,141,127,115,171,98,204"/>
<area shape="rect" href="classShip.html#abfe895d54721c20ddcff465cf37ac308" title="Getter for the buying product." alt="" coords="254,55,406,80"/>
<area shape="poly" title=" " alt="" coords="97,201,145,146,180,115,219,89,240,80,242,85,221,94,183,119,149,150,101,204"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified Id." alt="" coords="271,104,389,129"/>
<area shape="poly" title=" " alt="" coords="107,200,156,169,219,138,256,127,258,132,221,143,159,174,109,205"/>
<area shape="rect" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd" title="Get the exceeding amount of the product. This method returns 0 if the product has a negative balance ..." alt="" coords="220,153,440,179"/>
<area shape="poly" title=" " alt="" coords="151,200,253,179,254,184,152,205"/>
<area shape="rect" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893" title="Get the Id of the product." alt="" coords="273,203,387,228"/>
<area shape="poly" title=" " alt="" coords="172,213,259,213,259,218,172,218"/>
<area shape="rect" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a" title="Get the missing amount of the product. This method returns 0 if the product has a positive balance (G..." alt="" coords="229,252,431,277"/>
<area shape="poly" title=" " alt="" coords="152,225,254,247,253,252,151,231"/>
<area shape="rect" href="classProduct.html#af78eb83686a0703b6818721d31d0e7c2" title="Restock a certain amount of the product. This method will not update the weights and volumes on any c..." alt="" coords="239,301,421,327"/>
<area shape="poly" title=" " alt="" coords="110,226,159,256,221,286,248,295,246,300,219,291,156,261,107,230"/>
<area shape="rect" href="classShip.html#af97be45c84069be682979f6c9d90880f" title="Getter for the selling product." alt="" coords="255,351,405,376"/>
<area shape="poly" title=" " alt="" coords="102,226,149,280,183,310,221,336,243,345,240,350,219,340,180,314,145,284,98,230"/>
<area shape="rect" href="classProduct.html#a8dbcd165158a8d6f1f6d6fb143674890" title="Withdraw a certain amount from the product. This method will not update the weights and volumes on an..." alt="" coords="234,400,426,425"/>
<area shape="poly" title=" " alt="" coords="98,227,115,259,142,303,178,347,222,385,235,392,232,397,218,390,174,351,137,306,110,262,93,229"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified Id exists." alt="" coords="488,104,608,129"/>
<area shape="poly" title=" " alt="" coords="390,114,474,114,474,119,390,119"/>
</map>
</div>
<div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_icgraph.png" border="0" usemap="#aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_icgraph" alt=""/></div>
<map name="aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_icgraph" id="aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_icgraph">
<area shape="rect" title="Navigates the specified route, updating the cities of the valley accordingly." alt="" coords="108,5,275,31"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a8bdfffd571d76986c7aaa277d2150362" name="a8bdfffd571d76986c7aaa277d2150362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bdfffd571d76986c7aaa277d2150362">&#9670;&#160;</a></span>ReadCitiesFromStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::ReadCitiesFromStream </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the cities from the input stream, overwriting the old <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> contents, if any. All the data regarding the cities from the old valley is lost. </p>
<dl class="params"><dt>Paràmetres</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The input stream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondició</dt><dd>The input stream is open and valid. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>The cities are read from the input stream. The old <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is overwritten. The ship forgets the old travel routes, but maintains its attributes </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00039">39</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   40</span>{</div>
<div class="line"><span class="lineno">   41</span>    <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.clear();</div>
<div class="line"><span class="lineno">   42</span>    <a class="code hl_variable" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a> = <a class="code hl_function" href="classValley.html#a32128482f1832fafabeb95954a489bec">GetRiverNodeFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   43</span>    <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#abb2c0d5a167cbde9bc0e79c6a66a374e">ResetVisitedCities</a>();</div>
<div class="line"><span class="lineno">   44</span>}</div>
<div class="ttc" id="aclassShip_html_abb2c0d5a167cbde9bc0e79c6a66a374e"><div class="ttname"><a href="classShip.html#abb2c0d5a167cbde9bc0e79c6a66a374e">Ship::ResetVisitedCities</a></div><div class="ttdeci">void ResetVisitedCities()</div><div class="ttdoc">Resets the list of visited cities.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00062">Ship.cc:62</a></div></div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides d'aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a8bdfffd571d76986c7aaa277d2150362_cgraph.png" border="0" usemap="#aclassValley_a8bdfffd571d76986c7aaa277d2150362_cgraph" alt=""/></div>
<map name="aclassValley_a8bdfffd571d76986c7aaa277d2150362_cgraph" id="aclassValley_a8bdfffd571d76986c7aaa277d2150362_cgraph">
<area shape="rect" title="Reads the cities from the input stream, overwriting the old Valley contents, if any...." alt="" coords="5,66,224,91"/>
<area shape="rect" href="classValley.html#a32128482f1832fafabeb95954a489bec" title="Reads a river node and its children from an input stream." alt="" coords="272,29,465,69"/>
<area shape="poly" title=" " alt="" coords="224,63,258,59,259,65,224,69"/>
<area shape="rect" href="classShip.html#abb2c0d5a167cbde9bc0e79c6a66a374e" title="Resets the list of visited cities." alt="" coords="280,94,457,119"/>
<area shape="poly" title=" " alt="" coords="224,88,267,93,266,98,224,93"/>
<area shape="poly" title=" " alt="" coords="322,30,319,20,326,10,343,5,369,3,398,6,414,13,412,18,397,11,369,8,344,10,329,15,324,21,327,28"/>
</map>
</div>
<div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a8bdfffd571d76986c7aaa277d2150362_icgraph.png" border="0" usemap="#aclassValley_a8bdfffd571d76986c7aaa277d2150362_icgraph" alt=""/></div>
<map name="aclassValley_a8bdfffd571d76986c7aaa277d2150362_icgraph" id="aclassValley_a8bdfffd571d76986c7aaa277d2150362_icgraph">
<area shape="rect" title="Reads the cities from the input stream, overwriting the old Valley contents, if any...." alt="" coords="361,31,580,56"/>
<area shape="rect" href="classValley.html#aab63536d9205e6bbfede92c0c5d66d25" title="Initializes the Valley from the input stream. This implies reading the products to be added to the Pr..." alt="" coords="108,5,313,31"/>
<area shape="poly" title=" " alt="" coords="348,34,313,31,314,25,348,29"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="5,31,60,56"/>
<area shape="poly" title=" " alt="" coords="347,46,60,46,60,41,347,41"/>
<area shape="poly" title=" " alt="" coords="108,35,60,42,60,37,107,30"/>
</map>
</div>

</div>
</div>
<a id="a168a713566fbb161885d17072414b32a" name="a168a713566fbb161885d17072414b32a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a168a713566fbb161885d17072414b32a">&#9670;&#160;</a></span>TestRouteStep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::TestRouteStep </td>
          <td>(</td>
          <td class="paramtype">vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>current_route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BinTree&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>current_location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>bought_amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sold_amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>recently_skipped_cities</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classShip.html">Ship</a> &amp;&#160;</td>
          <td class="paramname"><em>test_ship</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structValley_1_1RouteEvaluationResult.html">Valley::RouteEvaluationResult</a> &amp;&#160;</td>
          <td class="paramname"><em>best_route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests a route step and updates the best route if necessary. </p>
<dl class="params"><dt>Paràmetres</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_route</td><td>The already traveled steps. Must be a valid vector&lt;Valley::NavStep&gt; and coherent with current_location </td></tr>
    <tr><td class="paramname">current_location</td><td>The current location in the river structure. Must be a non-empty BinTree&lt;string&gt; node, where the value of the node is the id of an existing city. Both children of the node may be either empty or valid. </td></tr>
    <tr><td class="paramname">bought_amount</td><td>The amount of buyable product that has been already bought. This value cannot be negative </td></tr>
    <tr><td class="paramname">sold_amount</td><td>The amount of sellable product that has been already sold. This value cannot be negative </td></tr>
    <tr><td class="paramname">recently_skipped_cities</td><td>The amount of skipped cities since the last city where a tarde was performed. This value cannot be negative </td></tr>
    <tr><td class="paramname">test_ship</td><td>The ship to use to test a route. Must be a valid ship. </td></tr>
    <tr><td class="paramname">best_route</td><td>A reference to a variable holding the best possible route.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondició</dt><dd>current_location is a non-empty node and is coherent with current_route. current_route is a vector containing the position of current_location city in the valley bought_amount, sold_amount and recently_skipped_cities are positive integers that are coherent with the already done route. They represent, respectivelty, the amount of already bought product, the amount of already sold product and the count of passed cities from the last city where a trade was performed. test_ship is a valid ship containig the bought and sold products, whose current_amounts are coherent with the bought_amount and sold_amount parameters. best_route points to the best known route. </dd></dl>
<dl class="section post"><dt>Postcondició</dt><dd>All the possible routes starting from the given current_location are tested and the best route, if any, is saved to best_route. </dd></dl>

<p class="definition">Definició a la línia <a class="el" href="Valley_8cc_source.html#l00116">116</a> del fitxer <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  123</span>{</div>
<div class="line"><span class="lineno">  124</span>    <span class="keywordtype">int</span> buying_id = test_ship.<a class="code hl_function" href="classShip.html#abfe895d54721c20ddcff465cf37ac308">BuyingProduct</a>().<a class="code hl_function" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">GetId</a>();</div>
<div class="line"><span class="lineno">  125</span>    <span class="keywordtype">int</span> selling_id = test_ship.<a class="code hl_function" href="classShip.html#af97be45c84069be682979f6c9d90880f">SellingProduct</a>().<a class="code hl_function" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">GetId</a>();</div>
<div class="line"><span class="lineno">  126</span>    </div>
<div class="line"><span class="lineno">  127</span>    <span class="keywordtype">int</span> traded_amount = 0;</div>
<div class="line"><span class="lineno">  128</span>    <span class="keyword">auto</span>&amp; city = <a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(current_location.value());</div>
<div class="line"><span class="lineno">  129</span> </div>
<div class="line"><span class="lineno">  130</span>    <span class="comment">// Calculate how much product is going to be bought from the city</span></div>
<div class="line"><span class="lineno">  131</span>    <span class="keywordflow">if</span>(city.HasProduct(buying_id))</div>
<div class="line"><span class="lineno">  132</span>    {   </div>
<div class="line"><span class="lineno">  133</span>        <span class="keywordtype">int</span> amount_to_buy = min(</div>
<div class="line"><span class="lineno">  134</span>            city.GetProductExceedingAmount(buying_id), </div>
<div class="line"><span class="lineno">  135</span>            test_ship.<a class="code hl_function" href="classShip.html#abfe895d54721c20ddcff465cf37ac308">BuyingProduct</a>().<a class="code hl_function" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a">GetMissingAmount</a>()</div>
<div class="line"><span class="lineno">  136</span>        );</div>
<div class="line"><span class="lineno">  137</span>        test_ship.<a class="code hl_function" href="classShip.html#abfe895d54721c20ddcff465cf37ac308">BuyingProduct</a>().<a class="code hl_function" href="classProduct.html#af78eb83686a0703b6818721d31d0e7c2">RestockAmount</a>(amount_to_buy); </div>
<div class="line"><span class="lineno">  138</span>        traded_amount += amount_to_buy;</div>
<div class="line"><span class="lineno">  139</span>        bought_amount += amount_to_buy;</div>
<div class="line"><span class="lineno">  140</span>    }</div>
<div class="line"><span class="lineno">  141</span> </div>
<div class="line"><span class="lineno">  142</span>    <span class="comment">// Calculate how much product is going to be sold to the city</span></div>
<div class="line"><span class="lineno">  143</span>    <span class="keywordflow">if</span>(city.HasProduct(selling_id))</div>
<div class="line"><span class="lineno">  144</span>    {</div>
<div class="line"><span class="lineno">  145</span>        <span class="keywordtype">int</span> amount_to_sell = min(</div>
<div class="line"><span class="lineno">  146</span>            city.GetProductMissingAmount(selling_id), </div>
<div class="line"><span class="lineno">  147</span>            test_ship.<a class="code hl_function" href="classShip.html#af97be45c84069be682979f6c9d90880f">SellingProduct</a>().<a class="code hl_function" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd">GetExceedingAmount</a>()</div>
<div class="line"><span class="lineno">  148</span>        );</div>
<div class="line"><span class="lineno">  149</span>        test_ship.<a class="code hl_function" href="classShip.html#af97be45c84069be682979f6c9d90880f">SellingProduct</a>().<a class="code hl_function" href="classProduct.html#a8dbcd165158a8d6f1f6d6fb143674890">WithdrawAmount</a>(amount_to_sell);</div>
<div class="line"><span class="lineno">  150</span>        traded_amount += amount_to_sell;</div>
<div class="line"><span class="lineno">  151</span>        sold_amount += amount_to_sell;</div>
<div class="line"><span class="lineno">  152</span>    }</div>
<div class="line"><span class="lineno">  153</span> </div>
<div class="line"><span class="lineno">  154</span>    <span class="comment">// If the current city has tradable product, reset the skipped cities counter</span></div>
<div class="line"><span class="lineno">  155</span>    <span class="comment">// Otherwhise, increase it</span></div>
<div class="line"><span class="lineno">  156</span>    <span class="keywordflow">if</span>(traded_amount &gt; 0)</div>
<div class="line"><span class="lineno">  157</span>        recently_skipped_cities = 0;</div>
<div class="line"><span class="lineno">  158</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  159</span>        recently_skipped_cities++;</div>
<div class="line"><span class="lineno">  160</span>    </div>
<div class="line"><span class="lineno">  161</span>    <span class="comment">// If we have reached the end of the river </span></div>
<div class="line"><span class="lineno">  162</span>    <span class="comment">// or if we have reached the limits of the ship&#39;s trading capacity</span></div>
<div class="line"><span class="lineno">  163</span>    <span class="keywordflow">if</span>(current_location.right().empty() </div>
<div class="line"><span class="lineno">  164</span>       || current_location.left().empty()</div>
<div class="line"><span class="lineno">  165</span>       || (test_ship.<a class="code hl_function" href="classShip.html#abfe895d54721c20ddcff465cf37ac308">BuyingProduct</a>().<a class="code hl_function" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a">GetMissingAmount</a>() == 0 </div>
<div class="line"><span class="lineno">  166</span>           &amp;&amp; test_ship.<a class="code hl_function" href="classShip.html#af97be45c84069be682979f6c9d90880f">SellingProduct</a>().<a class="code hl_function" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd">GetExceedingAmount</a>() == 0))</div>
<div class="line"><span class="lineno">  167</span>    {</div>
<div class="line"><span class="lineno">  168</span>        <span class="keywordflow">while</span>(recently_skipped_cities &gt; 0 &amp;&amp; !current_route.empty())</div>
<div class="line"><span class="lineno">  169</span>        {</div>
<div class="line"><span class="lineno">  170</span>            <span class="comment">// If the first city has been skipped, since the first city does not </span></div>
<div class="line"><span class="lineno">  171</span>            <span class="comment">// have an asscoiated NavStep on current_route, attempting to pop_back() would crash</span></div>
<div class="line"><span class="lineno">  172</span>            current_route.pop_back();</div>
<div class="line"><span class="lineno">  173</span>            recently_skipped_cities--;</div>
<div class="line"><span class="lineno">  174</span>        }</div>
<div class="line"><span class="lineno">  175</span> </div>
<div class="line"><span class="lineno">  176</span>        <a class="code hl_struct" href="structValley_1_1RouteEvaluationResult.html">Valley::RouteEvaluationResult</a> result;</div>
<div class="line"><span class="lineno">  177</span>        result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#abe1f6e8cbd027ff9cb234003b26fb247">route</a> = current_route;</div>
<div class="line"><span class="lineno">  178</span>        <span class="comment">// We need to add 1 to take into account the first city, which does not </span></div>
<div class="line"><span class="lineno">  179</span>        <span class="comment">// have associated any NavStep on current_route</span></div>
<div class="line"><span class="lineno">  180</span>        result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a53733398076998454676d8f3f6926777">EffectiveLength</a> = current_route.size() + 1 - recently_skipped_cities;</div>
<div class="line"><span class="lineno">  181</span>        result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a> = bought_amount + sold_amount;</div>
<div class="line"><span class="lineno">  182</span> </div>
<div class="line"><span class="lineno">  183</span>        <span class="keywordflow">if</span>(result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a> &gt; best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a></div>
<div class="line"><span class="lineno">  184</span>            || (result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a> == best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a> </div>
<div class="line"><span class="lineno">  185</span>            &amp;&amp; result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a53733398076998454676d8f3f6926777">EffectiveLength</a> &lt; best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a53733398076998454676d8f3f6926777">EffectiveLength</a>))</div>
<div class="line"><span class="lineno">  186</span>        {</div>
<div class="line"><span class="lineno">  187</span>            best_route = result;</div>
<div class="line"><span class="lineno">  188</span>        }</div>
<div class="line"><span class="lineno">  189</span>    }</div>
<div class="line"><span class="lineno">  190</span>    <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  191</span>    {</div>
<div class="line"><span class="lineno">  192</span>        <span class="comment">// Recursive case. Continue calculations</span></div>
<div class="line"><span class="lineno">  193</span>        <span class="comment">// Continue testing through the left</span></div>
<div class="line"><span class="lineno">  194</span>        <span class="keyword">auto</span> left_route = current_route;</div>
<div class="line"><span class="lineno">  195</span>        <span class="keyword">auto</span> left_ship = test_ship.<a class="code hl_function" href="classShip.html#aa1d8fa2b53b89088bf55f1a760477835">Copy</a>();</div>
<div class="line"><span class="lineno">  196</span>        left_route.push_back(<a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Valley::NavStep::Left</a>);</div>
<div class="line"><span class="lineno">  197</span>        <a class="code hl_function" href="classValley.html#a168a713566fbb161885d17072414b32a">TestRouteStep</a>(left_route, current_location.left(), bought_amount, </div>
<div class="line"><span class="lineno">  198</span>            sold_amount, recently_skipped_cities, left_ship, best_route);</div>
<div class="line"><span class="lineno">  199</span>        </div>
<div class="line"><span class="lineno">  200</span>        <span class="comment">// Continue testing through the right</span></div>
<div class="line"><span class="lineno">  201</span>        current_route.push_back(<a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c">Valley::NavStep::Right</a>);</div>
<div class="line"><span class="lineno">  202</span>        <a class="code hl_function" href="classValley.html#a168a713566fbb161885d17072414b32a">TestRouteStep</a>(current_route, current_location.right(), bought_amount, </div>
<div class="line"><span class="lineno">  203</span>            sold_amount, recently_skipped_cities, test_ship, best_route);</div>
<div class="line"><span class="lineno">  204</span>    }</div>
<div class="line"><span class="lineno">  205</span>}</div>
<div class="ttc" id="astructValley_1_1RouteEvaluationResult_html_a1831bb84b781a320c6e200daf0dd4480"><div class="ttname"><a href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">Valley::RouteEvaluationResult::TotalTrades</a></div><div class="ttdeci">int TotalTrades</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00045">Valley.hh:45</a></div></div>
<div class="ttc" id="astructValley_1_1RouteEvaluationResult_html_a53733398076998454676d8f3f6926777"><div class="ttname"><a href="structValley_1_1RouteEvaluationResult.html#a53733398076998454676d8f3f6926777">Valley::RouteEvaluationResult::EffectiveLength</a></div><div class="ttdeci">int EffectiveLength</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00044">Valley.hh:44</a></div></div>
</div><!-- fragment --><div class="dynheader">
Gràfic de crides d'aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a168a713566fbb161885d17072414b32a_cgraph.png" border="0" usemap="#aclassValley_a168a713566fbb161885d17072414b32a_cgraph" alt=""/></div>
<map name="aclassValley_a168a713566fbb161885d17072414b32a_cgraph" id="aclassValley_a168a713566fbb161885d17072414b32a_cgraph">
<area shape="rect" title="Tests a route step and updates the best route if necessary." alt="" coords="5,205,168,231"/>
<area shape="poly" title=" " alt="" coords="48,207,40,197,44,187,60,181,87,179,120,183,133,192,129,196,118,187,87,184,61,186,48,191,45,196,52,203"/>
<area shape="rect" href="classShip.html#abfe895d54721c20ddcff465cf37ac308" title="Getter for the buying product." alt="" coords="250,5,402,31"/>
<area shape="poly" title=" " alt="" coords="92,204,109,172,136,130,171,86,214,48,243,33,245,38,218,52,175,90,140,133,113,175,96,207"/>
<area shape="rect" href="classShip.html#aa1d8fa2b53b89088bf55f1a760477835" title="Deep&#45;copies the current ship instance and its attributes." alt="" coords="281,107,371,132"/>
<area shape="poly" title=" " alt="" coords="104,203,153,172,215,141,267,126,268,131,217,146,155,177,107,207"/>
<area shape="rect" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893" title="Get the Id of the product." alt="" coords="528,32,643,57"/>
<area shape="poly" title=" " alt="" coords="95,203,141,148,175,117,215,92,291,63,372,47,448,40,514,39,514,44,449,45,373,53,293,69,217,96,179,121,145,152,99,207"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified Id." alt="" coords="267,156,385,181"/>
<area shape="poly" title=" " alt="" coords="148,203,252,181,254,186,149,208"/>
<area shape="rect" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd" title="Get the exceeding amount of the product. This method returns 0 if the product has a negative balance ..." alt="" coords="216,205,436,231"/>
<area shape="poly" title=" " alt="" coords="168,215,202,215,202,221,168,221"/>
<area shape="rect" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a" title="Get the missing amount of the product. This method returns 0 if the product has a positive balance (G..." alt="" coords="225,255,427,280"/>
<area shape="poly" title=" " alt="" coords="149,228,251,249,250,254,148,233"/>
<area shape="rect" href="classProduct.html#af78eb83686a0703b6818721d31d0e7c2" title="Restock a certain amount of the product. This method will not update the weights and volumes on any c..." alt="" coords="235,304,417,329"/>
<area shape="poly" title=" " alt="" coords="107,229,155,259,217,290,240,298,238,303,215,295,153,264,104,233"/>
<area shape="rect" href="classShip.html#af97be45c84069be682979f6c9d90880f" title="Getter for the selling product." alt="" coords="251,353,401,379"/>
<area shape="poly" title=" " alt="" coords="99,229,146,283,179,314,217,340,238,349,236,354,215,344,176,318,142,287,95,233"/>
<area shape="rect" href="classProduct.html#a8dbcd165158a8d6f1f6d6fb143674890" title="Withdraw a certain amount from the product. This method will not update the weights and volumes on an..." alt="" coords="230,403,422,428"/>
<area shape="poly" title=" " alt="" coords="96,230,112,263,138,306,174,351,218,389,228,395,225,399,214,394,170,355,134,309,108,265,91,232"/>
<area shape="rect" href="classProduct.html#a4b7b9ac3ecf67501fc1c36bddd09027e" title="Get the available amount of the product." alt="" coords="485,81,686,107"/>
<area shape="poly" title=" " alt="" coords="371,112,471,102,471,108,372,118"/>
<area shape="poly" title=" " alt="" coords="371,105,435,85,483,66,514,57,515,63,485,71,437,90,372,110"/>
<area shape="rect" href="classProduct.html#a2d7e6bd6d110b48fafd68deee4d1805f" title="Get the predefined wanted amount of the product. This method returns the initially set wanted amount,..." alt="" coords="484,131,687,156"/>
<area shape="poly" title=" " alt="" coords="372,121,470,130,470,135,371,126"/>
<area shape="rect" href="classShip.html#ab7608fcfc4d27c678aacaf9bfd68a462" title="Default constructor for the Ship class." alt="" coords="542,204,629,229"/>
<area shape="poly" title=" " alt="" coords="372,124,437,141,462,153,485,166,546,196,543,201,483,171,459,157,435,146,371,129"/>
<area shape="poly" title=" " alt="" coords="544,206,534,196,539,186,556,179,585,177,622,181,632,186,636,192,632,195,629,190,620,186,585,183,558,185,543,190,540,195,547,202"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified Id exists." alt="" coords="525,253,645,279"/>
<area shape="poly" title=" " alt="" coords="386,173,412,181,437,192,453,204,462,216,471,228,485,240,513,251,511,256,483,244,467,232,458,220,449,207,435,196,410,186,385,179"/>
</map>
</div>
<div class="dynheader">
Gràfic de crides a aquesta funció:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a168a713566fbb161885d17072414b32a_icgraph.png" border="0" usemap="#aclassValley_a168a713566fbb161885d17072414b32a_icgraph" alt=""/></div>
<map name="aclassValley_a168a713566fbb161885d17072414b32a_icgraph" id="aclassValley_a168a713566fbb161885d17072414b32a_icgraph">
<area shape="rect" title="Tests a route step and updates the best route if necessary." alt="" coords="315,29,477,55"/>
<area shape="poly" title=" " alt="" coords="433,20,423,11,396,8,374,10,362,15,360,20,366,28,362,31,355,21,358,11,373,5,396,3,425,6,436,15"/>
<area shape="rect" href="classValley.html#aa61921a453bfcab8a76822fb16553560" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="108,29,267,55"/>
<area shape="poly" title=" " alt="" coords="301,45,267,45,267,39,301,39"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="The entry point of the program." alt="" coords="5,29,60,55"/>
<area shape="poly" title=" " alt="" coords="94,45,60,45,60,39,94,39"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Documentació de les Dades Membre</h2>
<a id="a72b588ac6bb53e4777778a4ca8f89725" name="a72b588ac6bb53e4777778a4ca8f89725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b588ac6bb53e4777778a4ca8f89725">&#9670;&#160;</a></span>cities</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unordered_map&lt; string, <a class="el" href="classCity.html">City</a> &gt; Valley::cities = unordered_map&lt;string, <a class="el" href="classCity.html">City</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A map that links a given city id with its corresponding <a class="el" href="classCity.html" title="Represents a city with an inventory of Product items.">City</a> object. </p>

<p class="definition">Definició a la línia <a class="el" href="Valley_8hh_source.html#l00053">53</a> del fitxer <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<a id="a837c0bfa444e667bb8d93e73d44ed3d4" name="a837c0bfa444e667bb8d93e73d44ed3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837c0bfa444e667bb8d93e73d44ed3d4">&#9670;&#160;</a></span>initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Valley::initialized = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flag indicating if the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized. </p>

<p class="definition">Definició a la línia <a class="el" href="Valley_8hh_source.html#l00048">48</a> del fitxer <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<a id="afebc5484b9933c6d53d54e8a43632970" name="afebc5484b9933c6d53d54e8a43632970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afebc5484b9933c6d53d54e8a43632970">&#9670;&#160;</a></span>invalid_city</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCity.html">City</a> Valley::invalid_city = <a class="el" href="classCity.html">City</a>(&quot;invalid&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>An invalid city used to perform read operations when an invalid city Id is provided through cin. </p>

<p class="definition">Definició a la línia <a class="el" href="Valley_8hh_source.html#l00049">49</a> del fitxer <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<a id="a6c77616859a5ac6a822be4a2b6cd537e" name="a6c77616859a5ac6a822be4a2b6cd537e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c77616859a5ac6a822be4a2b6cd537e">&#9670;&#160;</a></span>river_structure</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BinTree&lt; string &gt; Valley::river_structure = BinTree&lt;string&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The river structure containing the city Ids. </p>

<p class="definition">Definició a la línia <a class="el" href="Valley_8hh_source.html#l00051">51</a> del fitxer <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<a id="a79fb1ecacc49127f34e147ac01d76941" name="a79fb1ecacc49127f34e147ac01d76941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79fb1ecacc49127f34e147ac01d76941">&#9670;&#160;</a></span>ship</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShip.html">Ship</a> Valley::ship = <a class="el" href="classShip.html">Ship</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The ship. </p>

<p class="definition">Definició a la línia <a class="el" href="Valley_8hh_source.html#l00054">54</a> del fitxer <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<hr/>La documentació d'aquesta classe es va generar a partir dels següents fitxers:<ul>
<li>src/<a class="el" href="Valley_8hh_source.html">Valley.hh</a></li>
<li>src/<a class="el" href="Valley_8cc_source.html">Valley.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classValley.html">Valley</a></li>
    <li class="footer">Generat per <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
