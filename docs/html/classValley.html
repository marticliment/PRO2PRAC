<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Pràctica de PRO2: Valley Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Pràctica de PRO2<span id="projectnumber">&#160;1.0</span>
   </div>
   <div id="projectbrief">Martí Climent</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classValley.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#pub-types">Public Types</a> &#124;
<a href="#pub-static-methods">Static Public Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-static-attribs">Static Private Attributes</a> &#124;
<a href="classValley-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">Valley Class Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Represents a valley with cities (<a class="el" href="classCity.html" title="Represents a city with an inventory of Product items.">City</a> objects), and a <a class="el" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products.">Ship</a> that navigates and trades between cities.  
 <a href="classValley.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="Valley_8hh_source.html">Valley.hh</a>&gt;</code></p>
<div class="dynheader">
Collaboration diagram for Valley:</div>
<div class="dyncontent">
<div class="center"><img src="classValley__coll__graph.png" border="0" usemap="#aValley_coll__map" alt="Collaboration graph"/></div>
<map name="aValley_coll__map" id="aValley_coll__map">
<area shape="rect" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities." alt="" coords="53,196,115,221"/>
<area shape="rect" href="classCity.html" title="Represents a city with an inventory of Product items." alt="" coords="5,108,53,133"/>
<area shape="poly" title=" " alt="" coords="28,147,33,171,44,184,58,194,55,198,40,188,28,173,23,148"/>
<area shape="rect" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products." alt="" coords="115,108,165,133"/>
<area shape="poly" title=" " alt="" coords="129,147,113,173,95,197,91,194,108,171,125,144"/>
<area shape="rect" href="classProduct.html" title="Represents a product. A product object has an available amount and a wanted amount of units,..." alt="" coords="105,5,175,31"/>
<area shape="poly" title=" " alt="" coords="143,45,143,108,137,108,137,45"/>
</map>
<center><span class="legend">[<a target="top" href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="nested-classes" name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structValley_1_1RouteEvaluationResult.html">RouteEvaluationResult</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">The <a class="el" href="structValley_1_1RouteEvaluationResult.html" title="The RouteEvaluationResult struct represents the result of evaluating a possible route for the ship.">RouteEvaluationResult</a> struct represents the result of evaluating a possible route for the ship.  <a href="structValley_1_1RouteEvaluationResult.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr class="memitem:a3771d0f650af806c24a71e9060093635" id="r_a3771d0f650af806c24a71e9060093635"><td class="memItemLeft" align="right" valign="top">enum class &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> { <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Left</a>
, <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c">Right</a>
 }</td></tr>
<tr class="memdesc:a3771d0f650af806c24a71e9060093635"><td class="mdescLeft">&#160;</td><td class="mdescRight">The NavStep enum represents the navigation steps (left or right) the ship can take from a certain node, assuming the root node is at the top.  <a href="classValley.html#a3771d0f650af806c24a71e9060093635">More...</a><br /></td></tr>
<tr class="separator:a3771d0f650af806c24a71e9060093635"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-methods" name="pub-static-methods"></a>
Static Public Member Functions</h2></td></tr>
<tr class="memitem:aab63536d9205e6bbfede92c0c5d66d25" id="r_aab63536d9205e6bbfede92c0c5d66d25"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#aab63536d9205e6bbfede92c0c5d66d25">InitializeFromStream</a> (istream &amp;stream)</td></tr>
<tr class="memdesc:aab63536d9205e6bbfede92c0c5d66d25"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initializes the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> from the input stream. This implies reading the products to be added to the <a class="el" href="classProductReference.html" title="Stores the data (in ProductData objects) and keeps track of all the existing products.">ProductReference</a>, the cities that of the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> and the <a class="el" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products.">Ship</a>.  <br /></td></tr>
<tr class="separator:aab63536d9205e6bbfede92c0c5d66d25"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8bdfffd571d76986c7aaa277d2150362" id="r_a8bdfffd571d76986c7aaa277d2150362"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a8bdfffd571d76986c7aaa277d2150362">ReadCitiesFromStream</a> (istream &amp;stream)</td></tr>
<tr class="memdesc:a8bdfffd571d76986c7aaa277d2150362"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads the cities from the input stream, overwriting the old <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> contents, if any. All the data regarding the cities from the old valley is lost.  <br /></td></tr>
<tr class="separator:a8bdfffd571d76986c7aaa277d2150362"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a070726f5f925f2a2891aa5226ef58f17" id="r_a070726f5f925f2a2891aa5226ef58f17"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classShip.html">Ship</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a070726f5f925f2a2891aa5226ef58f17">GetShip</a> ()</td></tr>
<tr class="memdesc:a070726f5f925f2a2891aa5226ef58f17"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets a reference to the ship.  <br /></td></tr>
<tr class="separator:a070726f5f925f2a2891aa5226ef58f17"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a150cd1a95764b0b85e8d57aecc73b0c0" id="r_a150cd1a95764b0b85e8d57aecc73b0c0"><td class="memItemLeft" align="right" valign="top">static vector&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a150cd1a95764b0b85e8d57aecc73b0c0">GetCityIds</a> ()</td></tr>
<tr class="memdesc:a150cd1a95764b0b85e8d57aecc73b0c0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the list of city Ids in the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a>.  <br /></td></tr>
<tr class="separator:a150cd1a95764b0b85e8d57aecc73b0c0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a75ff9182c65289925ff544ac37e6b792" id="r_a75ff9182c65289925ff544ac37e6b792"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classCity.html">City</a> &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a> (const string &amp;id)</td></tr>
<tr class="memdesc:a75ff9182c65289925ff544ac37e6b792"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the city with the specified ID.  <br /></td></tr>
<tr class="separator:a75ff9182c65289925ff544ac37e6b792"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9ae654d0a8f51b5c80ec9e88447fe7d" id="r_ab9ae654d0a8f51b5c80ec9e88447fe7d"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d">HasCity</a> (const string &amp;id)</td></tr>
<tr class="memdesc:ab9ae654d0a8f51b5c80ec9e88447fe7d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks if a city with the specified ID exists.  <br /></td></tr>
<tr class="separator:ab9ae654d0a8f51b5c80ec9e88447fe7d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa5308f01b1b609a63508404fa8b7a46f" id="r_aa5308f01b1b609a63508404fa8b7a46f"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">DoTrades</a> ()</td></tr>
<tr class="memdesc:aa5308f01b1b609a63508404fa8b7a46f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Performs trades in the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a>. Trades start recursively from the root node. The city in the root node trades with its children, which at their time trade with their children, etc.  <br /></td></tr>
<tr class="separator:aa5308f01b1b609a63508404fa8b7a46f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa61921a453bfcab8a76822fb16553560" id="r_aa61921a453bfcab8a76822fb16553560"><td class="memItemLeft" align="right" valign="top">static vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#aa61921a453bfcab8a76822fb16553560">GetBestRoute</a> ()</td></tr>
<tr class="memdesc:aa61921a453bfcab8a76822fb16553560"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the best route for the ship. The best route is the shortest route possible where the maximum amount of product is bought and sold.  <br /></td></tr>
<tr class="separator:aa61921a453bfcab8a76822fb16553560"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2d27338b1463dfa8f30f5e1e1c4e9a89" id="r_a2d27338b1463dfa8f30f5e1e1c4e9a89"><td class="memItemLeft" align="right" valign="top">static int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a2d27338b1463dfa8f30f5e1e1c4e9a89">NavigateRoute</a> (const vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt; &amp;route)</td></tr>
<tr class="memdesc:a2d27338b1463dfa8f30f5e1e1c4e9a89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Navigates the specified route, updating the cities of the valley accordingly.  <br /></td></tr>
<tr class="separator:a2d27338b1463dfa8f30f5e1e1c4e9a89"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-methods" name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:a9ce0d2c2139f10629fcb12ec2e261f35" id="r_a9ce0d2c2139f10629fcb12ec2e261f35"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35">AssertRiverArrayIsInitialized</a> ()</td></tr>
<tr class="memdesc:a9ce0d2c2139f10629fcb12ec2e261f35"><td class="mdescLeft">&#160;</td><td class="mdescRight">Asserts that the river array is initialized.  <br /></td></tr>
<tr class="separator:a9ce0d2c2139f10629fcb12ec2e261f35"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32128482f1832fafabeb95954a489bec" id="r_a32128482f1832fafabeb95954a489bec"><td class="memItemLeft" align="right" valign="top">static BinTree&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a32128482f1832fafabeb95954a489bec">GetRiverNodeFromStream</a> (istream &amp;stream)</td></tr>
<tr class="memdesc:a32128482f1832fafabeb95954a489bec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reads a river node and its children from an input stream.  <br /></td></tr>
<tr class="separator:a32128482f1832fafabeb95954a489bec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a97bd06aed292614351b1db74566d0259" id="r_a97bd06aed292614351b1db74566d0259"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a97bd06aed292614351b1db74566d0259">DoTrades</a> (const BinTree&lt; string &gt; &amp;current_position)</td></tr>
<tr class="memdesc:a97bd06aed292614351b1db74566d0259"><td class="mdescLeft">&#160;</td><td class="mdescRight">Will make the city at the given node trade with its children. At their time, the children will trade with their respective children, and so on.  <br /></td></tr>
<tr class="separator:a97bd06aed292614351b1db74566d0259"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aca437e781152975022adef348bbbda23" id="r_aca437e781152975022adef348bbbda23"><td class="memItemLeft" align="right" valign="top">static void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#aca437e781152975022adef348bbbda23">TestRouteStep</a> (vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt; &amp;current_route, const BinTree&lt; string &gt; &amp;current_location, int buyable_amount, int sellable_amount, <a class="el" href="structValley_1_1RouteEvaluationResult.html">RouteEvaluationResult</a> &amp;best_route)</td></tr>
<tr class="memdesc:aca437e781152975022adef348bbbda23"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tests a route step and updates the best route if necessary.  <br /></td></tr>
<tr class="separator:aca437e781152975022adef348bbbda23"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pri-static-attribs" name="pri-static-attribs"></a>
Static Private Attributes</h2></td></tr>
<tr class="memitem:a837c0bfa444e667bb8d93e73d44ed3d4" id="r_a837c0bfa444e667bb8d93e73d44ed3d4"><td class="memItemLeft" align="right" valign="top">static bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a> = false</td></tr>
<tr class="separator:a837c0bfa444e667bb8d93e73d44ed3d4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afebc5484b9933c6d53d54e8a43632970" id="r_afebc5484b9933c6d53d54e8a43632970"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classCity.html">City</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#afebc5484b9933c6d53d54e8a43632970">invalid_city</a> = <a class="el" href="classCity.html">City</a>(&quot;invalid&quot;)</td></tr>
<tr class="separator:afebc5484b9933c6d53d54e8a43632970"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6c77616859a5ac6a822be4a2b6cd537e" id="r_a6c77616859a5ac6a822be4a2b6cd537e"><td class="memItemLeft" align="right" valign="top">static BinTree&lt; string &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a> = BinTree&lt;string&gt;()</td></tr>
<tr class="separator:a6c77616859a5ac6a822be4a2b6cd537e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a72b588ac6bb53e4777778a4ca8f89725" id="r_a72b588ac6bb53e4777778a4ca8f89725"><td class="memItemLeft" align="right" valign="top">static unordered_map&lt; string, <a class="el" href="classCity.html">City</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a> = unordered_map&lt;string, <a class="el" href="classCity.html">City</a>&gt;()</td></tr>
<tr class="separator:a72b588ac6bb53e4777778a4ca8f89725"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a79fb1ecacc49127f34e147ac01d76941" id="r_a79fb1ecacc49127f34e147ac01d76941"><td class="memItemLeft" align="right" valign="top">static <a class="el" href="classShip.html">Ship</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a> = <a class="el" href="classShip.html">Ship</a>()</td></tr>
<tr class="separator:a79fb1ecacc49127f34e147ac01d76941"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Represents a valley with cities (<a class="el" href="classCity.html" title="Represents a city with an inventory of Product items.">City</a> objects), and a <a class="el" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products.">Ship</a> that navigates and trades between cities. </p>
<p>The cities are organized on a BinTree-like structure, where each city has either two or zero children. There is always a root city </p>

<p class="definition">Definition at line <a class="el" href="Valley_8hh_source.html#l00017">17</a> of file <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>
</div><h2 class="groupheader">Member Enumeration Documentation</h2>
<a id="a3771d0f650af806c24a71e9060093635" name="a3771d0f650af806c24a71e9060093635"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3771d0f650af806c24a71e9060093635">&#9670;&#160;</a></span>NavStep</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">enum class <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">Valley::NavStep</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">strong</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The NavStep enum represents the navigation steps (left or right) the ship can take from a certain node, assuming the root node is at the top. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff" name="a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff"></a>Left&#160;</td><td class="fielddoc"><p>Navigate to the left child assuming the root node is at the top. </p>
</td></tr>
<tr><td class="fieldname"><a id="a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c" name="a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c"></a>Right&#160;</td><td class="fielddoc"><p>Navigate to the right child assuming the root node is at the top. </p>
</td></tr>
</table>

<p class="definition">Definition at line <a class="el" href="Valley_8hh_source.html#l00023">23</a> of file <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   24</span>    {</div>
<div class="line"><span class="lineno">   25</span>        <a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Left</a>, </div>
<div class="line"><span class="lineno">   26</span>        <a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c">Right</a> </div>
<div class="line"><span class="lineno">   27</span>    };</div>
<div class="ttc" id="aclassValley_html_a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c"><div class="ttname"><a href="classValley.html#a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c">Valley::NavStep::Right</a></div><div class="ttdeci">@ Right</div></div>
<div class="ttc" id="aclassValley_html_a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff"><div class="ttname"><a href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Valley::NavStep::Left</a></div><div class="ttdeci">@ Left</div></div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a9ce0d2c2139f10629fcb12ec2e261f35" name="a9ce0d2c2139f10629fcb12ec2e261f35"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9ce0d2c2139f10629fcb12ec2e261f35">&#9670;&#160;</a></span>AssertRiverArrayIsInitialized()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::AssertRiverArrayIsInitialized </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Asserts that the river array is initialized. </p>
<dl class="section pre"><dt>Precondition</dt><dd>None </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Will crash the program if the valley is not initialized. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00015">15</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   16</span>{</div>
<div class="line"><span class="lineno">   17</span>    assert(<a class="code hl_variable" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a> &amp;&amp; (<span class="keyword">true</span> || <span class="stringliteral">&quot;The current Valley object is not initialized, but a method that requires it to be is being called.&quot;</span>));</div>
<div class="line"><span class="lineno">   18</span>}</div>
<div class="ttc" id="aclassValley_html_a837c0bfa444e667bb8d93e73d44ed3d4"><div class="ttname"><a href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">Valley::initialized</a></div><div class="ttdeci">static bool initialized</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00040">Valley.hh:40</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a9ce0d2c2139f10629fcb12ec2e261f35_icgraph.png" border="0" usemap="#aclassValley_a9ce0d2c2139f10629fcb12ec2e261f35_icgraph" alt=""/></div>
<map name="aclassValley_a9ce0d2c2139f10629fcb12ec2e261f35_icgraph" id="aclassValley_a9ce0d2c2139f10629fcb12ec2e261f35_icgraph">
<area shape="rect" title="Asserts that the river array is initialized." alt="" coords="896,163,1075,203"/>
<area shape="rect" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f" title="Performs trades in the Valley. Trades start recursively from the root node. The city in the root node..." alt="" coords="533,29,663,55"/>
<area shape="poly" title=" " alt="" coords="951,156,904,119,847,87,800,71,752,60,663,48,663,42,753,54,802,66,849,82,907,115,955,152"/>
<area shape="rect" href="classValley.html#a97bd06aed292614351b1db74566d0259" title="Will make the city at the given node trade with its children. At their time, the children will trade ..." alt="" coords="339,29,469,55"/>
<area shape="poly" title=" " alt="" coords="888,163,457,57,458,52,889,157"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified ID." alt="" coords="539,148,657,173"/>
<area shape="poly" title=" " alt="" coords="882,180,658,167,658,161,882,175"/>
<area shape="rect" href="classValley.html#a150cd1a95764b0b85e8d57aecc73b0c0" title="Gets the list of city Ids in the Valley." alt="" coords="711,196,848,221"/>
<area shape="poly" title=" " alt="" coords="883,199,849,203,848,198,882,193"/>
<area shape="rect" href="classValley.html#a070726f5f925f2a2891aa5226ef58f17" title="Gets a reference to the ship." alt="" coords="131,305,251,331"/>
<area shape="poly" title=" " alt="" coords="956,215,909,254,880,272,849,286,768,310,684,326,599,336,515,340,365,338,251,328,252,323,365,333,515,335,598,330,683,321,767,305,847,281,877,267,906,249,953,211"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified ID exists." alt="" coords="719,245,839,271"/>
<area shape="poly" title=" " alt="" coords="919,211,849,237,818,248,816,243,847,231,917,206"/>
<area shape="poly" title=" " alt="" coords="630,19,621,11,598,8,579,10,569,15,567,20,572,28,568,31,562,21,565,11,577,5,598,3,623,6,633,15"/>
<area shape="poly" title=" " alt="" coords="519,45,469,45,469,39,519,39"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,179,60,204"/>
<area shape="poly" title=" " alt="" coords="538,29,485,19,404,12,323,19,259,29,209,40,163,58,110,92,87,113,68,137,42,180,38,177,64,134,83,109,106,88,161,53,208,35,258,24,322,14,404,7,486,14,539,24"/>
<area shape="poly" title=" " alt="" coords="558,143,532,124,517,108,508,94,499,81,484,68,461,57,464,52,487,64,503,78,512,91,521,105,535,120,561,138"/>
<area shape="poly" title=" " alt="" coords="525,167,61,193,60,187,525,162"/>
<area shape="rect" href="classValley.html#a2d27338b1463dfa8f30f5e1e1c4e9a89" title="Navigates the specified route, updating the cities of the valley accordingly." alt="" coords="108,204,275,229"/>
<area shape="poly" title=" " alt="" coords="530,179,486,187,376,202,275,213,275,207,375,197,485,182,529,174"/>
<area shape="rect" href="classValley.html#aca437e781152975022adef348bbbda23" title="Tests a route step and updates the best route if necessary." alt="" coords="323,103,485,128"/>
<area shape="poly" title=" " alt="" coords="529,147,459,131,460,126,530,142"/>
<area shape="poly" title=" " alt="" coords="98,204,60,198,61,193,99,199"/>
<area shape="poly" title=" " alt="" coords="438,92,428,84,404,81,384,83,373,88,371,94,377,101,372,104,366,94,369,84,382,78,404,76,430,80,441,88"/>
<area shape="rect" href="classValley.html#aa61921a453bfcab8a76822fb16553560" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="112,103,271,128"/>
<area shape="poly" title=" " alt="" coords="309,118,271,118,271,113,309,113"/>
<area shape="poly" title=" " alt="" coords="142,135,109,150,55,181,52,176,107,145,140,131"/>
<area shape="poly" title=" " alt="" coords="131,302,106,288,84,268,65,246,39,206,43,203,69,242,88,265,110,284,134,298"/>
<area shape="poly" title=" " alt="" coords="706,272,589,284,438,290,356,287,271,280,188,266,107,244,73,227,46,206,49,202,75,223,109,240,189,261,272,274,356,282,438,285,589,279,705,267"/>
<area shape="poly" title=" " alt="" coords="724,243,709,236,656,205,614,176,617,171,659,201,712,232,726,238"/>
</map>
</div>

</div>
</div>
<a id="aa5308f01b1b609a63508404fa8b7a46f" name="aa5308f01b1b609a63508404fa8b7a46f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa5308f01b1b609a63508404fa8b7a46f">&#9670;&#160;</a></span>DoTrades() <span class="overload">[1/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::DoTrades </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Performs trades in the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a>. Trades start recursively from the root node. The city in the root node trades with its children, which at their time trade with their children, etc. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Trades are performed recursively from the root city. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00109">109</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  110</span>{</div>
<div class="line"><span class="lineno">  111</span>    <a class="code hl_function" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35">AssertRiverArrayIsInitialized</a>();</div>
<div class="line"><span class="lineno">  112</span>    <a class="code hl_function" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">DoTrades</a>(<a class="code hl_variable" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a>);</div>
<div class="line"><span class="lineno">  113</span>}</div>
<div class="ttc" id="aclassValley_html_a6c77616859a5ac6a822be4a2b6cd537e"><div class="ttname"><a href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">Valley::river_structure</a></div><div class="ttdeci">static BinTree&lt; string &gt; river_structure</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00042">Valley.hh:42</a></div></div>
<div class="ttc" id="aclassValley_html_a9ce0d2c2139f10629fcb12ec2e261f35"><div class="ttname"><a href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35">Valley::AssertRiverArrayIsInitialized</a></div><div class="ttdeci">static void AssertRiverArrayIsInitialized()</div><div class="ttdoc">Asserts that the river array is initialized.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00015">Valley.cc:15</a></div></div>
<div class="ttc" id="aclassValley_html_aa5308f01b1b609a63508404fa8b7a46f"><div class="ttname"><a href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">Valley::DoTrades</a></div><div class="ttdeci">static void DoTrades()</div><div class="ttdoc">Performs trades in the Valley. Trades start recursively from the root node. The city in the root node...</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00109">Valley.cc:109</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aa5308f01b1b609a63508404fa8b7a46f_cgraph.png" border="0" usemap="#aclassValley_aa5308f01b1b609a63508404fa8b7a46f_cgraph" alt=""/></div>
<map name="aclassValley_aa5308f01b1b609a63508404fa8b7a46f_cgraph" id="aclassValley_aa5308f01b1b609a63508404fa8b7a46f_cgraph">
<area shape="rect" title="Performs trades in the Valley. Trades start recursively from the root node. The city in the root node..." alt="" coords="5,29,135,55"/>
<area shape="poly" title=" " alt="" coords="37,31,30,21,34,11,47,5,70,3,98,6,109,16,106,20,96,11,70,8,49,10,38,15,35,20,41,28"/>
<area shape="rect" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35" title="Asserts that the river array is initialized." alt="" coords="183,22,361,62"/>
<area shape="poly" title=" " alt="" coords="135,39,169,39,169,45,135,45"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aa5308f01b1b609a63508404fa8b7a46f_icgraph.png" border="0" usemap="#aclassValley_aa5308f01b1b609a63508404fa8b7a46f_icgraph" alt=""/></div>
<map name="aclassValley_aa5308f01b1b609a63508404fa8b7a46f_icgraph" id="aclassValley_aa5308f01b1b609a63508404fa8b7a46f_icgraph">
<area shape="rect" title="Performs trades in the Valley. Trades start recursively from the root node. The city in the root node..." alt="" coords="183,31,312,56"/>
<area shape="poly" title=" " alt="" coords="278,20,269,12,247,9,229,11,219,16,217,22,222,29,218,32,212,22,215,13,227,6,247,4,272,8,282,16"/>
<area shape="rect" href="classValley.html#a97bd06aed292614351b1db74566d0259" title="Will make the city at the given node trade with its children. At their time, the children will trade ..." alt="" coords="5,5,135,31"/>
<area shape="poly" title=" " alt="" coords="169,35,135,30,136,25,170,30"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="43,55,97,80"/>
<area shape="poly" title=" " alt="" coords="170,57,98,66,97,61,169,51"/>
</map>
</div>

</div>
</div>
<a id="a97bd06aed292614351b1db74566d0259" name="a97bd06aed292614351b1db74566d0259"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a97bd06aed292614351b1db74566d0259">&#9670;&#160;</a></span>DoTrades() <span class="overload">[2/2]</span></h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::DoTrades </td>
          <td>(</td>
          <td class="paramtype">const BinTree&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>current_position</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Will make the city at the given node trade with its children. At their time, the children will trade with their respective children, and so on. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_position</td><td>A node in the river structure.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The current position is valid. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>Trades are performed recursively starting from the current node. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00087">87</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   88</span>{</div>
<div class="line"><span class="lineno">   89</span>    <a class="code hl_function" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35">AssertRiverArrayIsInitialized</a>();</div>
<div class="line"><span class="lineno">   90</span> </div>
<div class="line"><span class="lineno">   91</span>    <span class="keywordflow">if</span>(current_position.empty())</div>
<div class="line"><span class="lineno">   92</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">   93</span> </div>
<div class="line"><span class="lineno">   94</span>    <span class="keyword">auto</span>&amp; current_city = <a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(current_position.value());</div>
<div class="line"><span class="lineno">   95</span>    </div>
<div class="line"><span class="lineno">   96</span>    <span class="keywordflow">if</span>(!current_position.left().empty())</div>
<div class="line"><span class="lineno">   97</span>    {</div>
<div class="line"><span class="lineno">   98</span>        current_city.TradeWith(<a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(current_position.left().value()));</div>
<div class="line"><span class="lineno">   99</span>        <a class="code hl_function" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">DoTrades</a>(current_position.left());</div>
<div class="line"><span class="lineno">  100</span>    }</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>    <span class="keywordflow">if</span>(!current_position.right().empty())</div>
<div class="line"><span class="lineno">  103</span>    {</div>
<div class="line"><span class="lineno">  104</span>        current_city.TradeWith(<a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(current_position.right().value()));</div>
<div class="line"><span class="lineno">  105</span>        <a class="code hl_function" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f">DoTrades</a>(current_position.right());</div>
<div class="line"><span class="lineno">  106</span>    }</div>
<div class="line"><span class="lineno">  107</span>}</div>
<div class="ttc" id="aclassValley_html_a75ff9182c65289925ff544ac37e6b792"><div class="ttname"><a href="classValley.html#a75ff9182c65289925ff544ac37e6b792">Valley::GetCity</a></div><div class="ttdeci">static City &amp; GetCity(const string &amp;id)</div><div class="ttdoc">Gets the city with the specified ID.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00078">Valley.cc:78</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a97bd06aed292614351b1db74566d0259_cgraph.png" border="0" usemap="#aclassValley_a97bd06aed292614351b1db74566d0259_cgraph" alt=""/></div>
<map name="aclassValley_a97bd06aed292614351b1db74566d0259_cgraph" id="aclassValley_a97bd06aed292614351b1db74566d0259_cgraph">
<area shape="rect" title="Will make the city at the given node trade with its children. At their time, the children will trade ..." alt="" coords="5,54,135,80"/>
<area shape="rect" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35" title="Asserts that the river array is initialized." alt="" coords="527,72,705,112"/>
<area shape="poly" title=" " alt="" coords="105,52,175,31,268,11,320,5,374,3,427,6,479,15,532,36,578,62,575,67,530,40,478,20,427,11,374,8,321,10,269,17,176,36,107,57"/>
<area shape="rect" href="classValley.html#aa5308f01b1b609a63508404fa8b7a46f" title="Performs trades in the Valley. Trades start recursively from the root node. The city in the root node..." alt="" coords="349,54,479,80"/>
<area shape="poly" title=" " alt="" coords="135,64,336,64,336,70,135,70"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified ID." alt="" coords="183,105,301,130"/>
<area shape="poly" title=" " alt="" coords="115,77,186,98,184,103,113,82"/>
<area shape="poly" title=" " alt="" coords="479,72,513,77,513,82,479,78"/>
<area shape="poly" title=" " alt="" coords="385,56,379,46,383,36,395,30,414,28,437,31,447,40,444,44,435,36,414,33,396,35,387,40,385,45,390,53"/>
<area shape="poly" title=" " alt="" coords="301,111,513,97,514,102,302,116"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified ID exists." alt="" coords="354,156,474,181"/>
<area shape="poly" title=" " alt="" coords="287,128,358,149,356,154,285,133"/>
<area shape="poly" title=" " alt="" coords="448,153,549,115,550,120,450,158"/>
</map>
</div>

</div>
</div>
<a id="aa61921a453bfcab8a76822fb16553560" name="aa61921a453bfcab8a76822fb16553560"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa61921a453bfcab8a76822fb16553560">&#9670;&#160;</a></span>GetBestRoute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">Valley::NavStep</a> &gt; Valley::GetBestRoute </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the best route for the ship. The best route is the shortest route possible where the maximum amount of product is bought and sold. </p>
<dl class="section pre"><dt>Precondition</dt><dd>The <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The best route is returned.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The best possible route. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00174">174</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  175</span>{</div>
<div class="line"><span class="lineno">  176</span>    <a class="code hl_struct" href="structValley_1_1RouteEvaluationResult.html">Valley::RouteEvaluationResult</a> best_route;</div>
<div class="line"><span class="lineno">  177</span>    vector&lt;Valley::NavStep&gt; empty_route;</div>
<div class="line"><span class="lineno">  178</span>    best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#abe1f6e8cbd027ff9cb234003b26fb247">route</a> = empty_route;</div>
<div class="line"><span class="lineno">  179</span>    <a class="code hl_function" href="classValley.html#aca437e781152975022adef348bbbda23">TestRouteStep</a>(empty_route, <a class="code hl_variable" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a>, 0, 0, best_route);</div>
<div class="line"><span class="lineno">  180</span>    <span class="keywordflow">return</span> best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#abe1f6e8cbd027ff9cb234003b26fb247">route</a>;</div>
<div class="line"><span class="lineno">  181</span>}</div>
<div class="ttc" id="aclassValley_html_aca437e781152975022adef348bbbda23"><div class="ttname"><a href="classValley.html#aca437e781152975022adef348bbbda23">Valley::TestRouteStep</a></div><div class="ttdeci">static void TestRouteStep(vector&lt; NavStep &gt; &amp;current_route, const BinTree&lt; string &gt; &amp;current_location, int buyable_amount, int sellable_amount, RouteEvaluationResult &amp;best_route)</div><div class="ttdoc">Tests a route step and updates the best route if necessary.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00115">Valley.cc:115</a></div></div>
<div class="ttc" id="astructValley_1_1RouteEvaluationResult_html"><div class="ttname"><a href="structValley_1_1RouteEvaluationResult.html">Valley::RouteEvaluationResult</a></div><div class="ttdoc">The RouteEvaluationResult struct represents the result of evaluating a possible route for the ship.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00033">Valley.hh:34</a></div></div>
<div class="ttc" id="astructValley_1_1RouteEvaluationResult_html_abe1f6e8cbd027ff9cb234003b26fb247"><div class="ttname"><a href="structValley_1_1RouteEvaluationResult.html#abe1f6e8cbd027ff9cb234003b26fb247">Valley::RouteEvaluationResult::route</a></div><div class="ttdeci">vector&lt; Valley::NavStep &gt; route</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00035">Valley.hh:35</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aa61921a453bfcab8a76822fb16553560_cgraph.png" border="0" usemap="#aclassValley_aa61921a453bfcab8a76822fb16553560_cgraph" alt=""/></div>
<map name="aclassValley_aa61921a453bfcab8a76822fb16553560_cgraph" id="aclassValley_aa61921a453bfcab8a76822fb16553560_cgraph">
<area shape="rect" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="5,129,164,155"/>
<area shape="rect" href="classValley.html#aca437e781152975022adef348bbbda23" title="Tests a route step and updates the best route if necessary." alt="" coords="212,129,375,155"/>
<area shape="poly" title=" " alt="" coords="164,139,198,139,198,145,164,145"/>
<area shape="poly" title=" " alt="" coords="259,131,252,121,256,111,270,105,293,103,322,106,334,115,330,120,320,111,293,108,271,110,259,115,257,120,263,128"/>
<area shape="rect" href="classShip.html#abfe895d54721c20ddcff465cf37ac308" title="Getter for the buying product." alt="" coords="457,5,609,31"/>
<area shape="poly" title=" " alt="" coords="305,127,353,84,386,60,422,40,442,31,444,36,424,44,389,64,357,88,309,131"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified ID." alt="" coords="473,55,592,80"/>
<area shape="poly" title=" " alt="" coords="323,127,422,90,459,80,460,85,423,95,325,132"/>
<area shape="rect" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd" title="Get the exceeding amount of the product. This method returns 0 if the product has a negative balance ..." alt="" coords="423,104,643,129"/>
<area shape="poly" title=" " alt="" coords="375,131,409,127,409,132,375,136"/>
<area shape="rect" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893" title="Get the ID of the product." alt="" coords="475,153,590,179"/>
<area shape="poly" title=" " alt="" coords="375,147,462,156,461,162,375,153"/>
<area shape="rect" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a" title="Get the missing amount of the product. This method returns 0 if the product has a positive balance (G..." alt="" coords="431,203,634,228"/>
<area shape="poly" title=" " alt="" coords="325,152,423,189,453,197,452,202,422,194,323,157"/>
<area shape="rect" href="classShip.html#af97be45c84069be682979f6c9d90880f" title="Getter for the selling product." alt="" coords="457,252,608,277"/>
<area shape="poly" title=" " alt="" coords="309,153,357,195,389,219,424,238,445,246,443,251,422,243,386,223,354,199,305,157"/>
<area shape="rect" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35" title="Asserts that the river array is initialized." alt="" coords="859,47,1037,87"/>
<area shape="poly" title=" " alt="" coords="592,65,845,65,845,70,592,70"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified ID exists." alt="" coords="691,80,811,105"/>
<area shape="poly" title=" " alt="" coords="593,72,678,82,677,87,592,77"/>
<area shape="poly" title=" " alt="" coords="811,82,845,78,846,83,811,88"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aa61921a453bfcab8a76822fb16553560_icgraph.png" border="0" usemap="#aclassValley_aa61921a453bfcab8a76822fb16553560_icgraph" alt=""/></div>
<map name="aclassValley_aa61921a453bfcab8a76822fb16553560_icgraph" id="aclassValley_aa61921a453bfcab8a76822fb16553560_icgraph">
<area shape="rect" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="108,5,267,31"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a75ff9182c65289925ff544ac37e6b792" name="a75ff9182c65289925ff544ac37e6b792"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a75ff9182c65289925ff544ac37e6b792">&#9670;&#160;</a></span>GetCity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCity.html">City</a> &amp; Valley::GetCity </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the city with the specified ID. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The ID of the city.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The city with the specified ID exists. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The city with the specified ID is returned.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The city with the specified ID. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00078">78</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   79</span>{</div>
<div class="line"><span class="lineno">   80</span>    <a class="code hl_function" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35">AssertRiverArrayIsInitialized</a>();</div>
<div class="line"><span class="lineno">   81</span>    <span class="keywordflow">if</span>(!<a class="code hl_function" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d">HasCity</a>(<span class="keywordtype">id</span>))</div>
<div class="line"><span class="lineno">   82</span>        <span class="keywordflow">return</span> <a class="code hl_variable" href="classValley.html#afebc5484b9933c6d53d54e8a43632970">invalid_city</a>;</div>
<div class="line"><span class="lineno">   83</span> </div>
<div class="line"><span class="lineno">   84</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.at(<span class="keywordtype">id</span>);</div>
<div class="line"><span class="lineno">   85</span>}</div>
<div class="ttc" id="aclassValley_html_a72b588ac6bb53e4777778a4ca8f89725"><div class="ttname"><a href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">Valley::cities</a></div><div class="ttdeci">static unordered_map&lt; string, City &gt; cities</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00043">Valley.hh:43</a></div></div>
<div class="ttc" id="aclassValley_html_ab9ae654d0a8f51b5c80ec9e88447fe7d"><div class="ttname"><a href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d">Valley::HasCity</a></div><div class="ttdeci">static bool HasCity(const string &amp;id)</div><div class="ttdoc">Checks if a city with the specified ID exists.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00072">Valley.cc:72</a></div></div>
<div class="ttc" id="aclassValley_html_afebc5484b9933c6d53d54e8a43632970"><div class="ttname"><a href="classValley.html#afebc5484b9933c6d53d54e8a43632970">Valley::invalid_city</a></div><div class="ttdeci">static City invalid_city</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00041">Valley.hh:41</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a75ff9182c65289925ff544ac37e6b792_cgraph.png" border="0" usemap="#aclassValley_a75ff9182c65289925ff544ac37e6b792_cgraph" alt=""/></div>
<map name="aclassValley_a75ff9182c65289925ff544ac37e6b792_cgraph" id="aclassValley_a75ff9182c65289925ff544ac37e6b792_cgraph">
<area shape="rect" title="Gets the city with the specified ID." alt="" coords="5,13,124,38"/>
<area shape="rect" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35" title="Asserts that the river array is initialized." alt="" coords="340,5,519,45"/>
<area shape="poly" title=" " alt="" coords="124,23,326,23,326,28,124,28"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified ID exists." alt="" coords="172,38,292,63"/>
<area shape="poly" title=" " alt="" coords="124,32,159,37,158,42,124,37"/>
<area shape="poly" title=" " alt="" coords="292,40,326,36,327,41,293,46"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a75ff9182c65289925ff544ac37e6b792_icgraph.png" border="0" usemap="#aclassValley_a75ff9182c65289925ff544ac37e6b792_icgraph" alt=""/></div>
<map name="aclassValley_a75ff9182c65289925ff544ac37e6b792_icgraph" id="aclassValley_a75ff9182c65289925ff544ac37e6b792_icgraph">
<area shape="rect" title="Gets the city with the specified ID." alt="" coords="533,81,652,107"/>
<area shape="rect" href="classValley.html#a97bd06aed292614351b1db74566d0259" title="Will make the city at the given node trade with its children. At their time, the children will trade ..." alt="" coords="339,5,469,31"/>
<area shape="poly" title=" " alt="" coords="547,78,484,52,436,33,438,28,486,48,549,73"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,107,60,132"/>
<area shape="poly" title=" " alt="" coords="520,92,485,90,296,80,213,82,109,97,61,111,59,106,107,91,213,77,296,75,485,85,520,86"/>
<area shape="rect" href="classValley.html#a2d27338b1463dfa8f30f5e1e1c4e9a89" title="Navigates the specified route, updating the cities of the valley accordingly." alt="" coords="108,107,275,132"/>
<area shape="poly" title=" " alt="" coords="519,101,275,117,275,111,519,96"/>
<area shape="rect" href="classValley.html#aca437e781152975022adef348bbbda23" title="Tests a route step and updates the best route if necessary." alt="" coords="323,181,485,207"/>
<area shape="poly" title=" " alt="" coords="557,116,430,184,428,179,554,111"/>
<area shape="poly" title=" " alt="" coords="94,122,60,122,60,117,94,117"/>
<area shape="poly" title=" " alt="" coords="437,171,428,163,404,160,384,162,374,167,372,172,377,180,373,183,367,173,370,163,383,157,404,155,430,158,440,167"/>
<area shape="rect" href="classValley.html#aa61921a453bfcab8a76822fb16553560" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="112,168,271,193"/>
<area shape="poly" title=" " alt="" coords="308,191,271,188,271,183,309,185"/>
<area shape="poly" title=" " alt="" coords="144,166,59,132,61,127,146,161"/>
</map>
</div>

</div>
</div>
<a id="a150cd1a95764b0b85e8d57aecc73b0c0" name="a150cd1a95764b0b85e8d57aecc73b0c0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a150cd1a95764b0b85e8d57aecc73b0c0">&#9670;&#160;</a></span>GetCityIds()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; string &gt; Valley::GetCityIds </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets the list of city Ids in the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a>. </p>
<dl class="section pre"><dt>Precondition</dt><dd>None. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The list of city Ids is returned.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The list of city Ids. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00059">59</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   60</span>{</div>
<div class="line"><span class="lineno">   61</span>    <a class="code hl_function" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35">AssertRiverArrayIsInitialized</a>();</div>
<div class="line"><span class="lineno">   62</span>    vector&lt;string&gt; names;</div>
<div class="line"><span class="lineno">   63</span>    <span class="keyword">auto</span> it = <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.begin();</div>
<div class="line"><span class="lineno">   64</span>    <span class="keywordflow">while</span>(it != <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.end())</div>
<div class="line"><span class="lineno">   65</span>    {</div>
<div class="line"><span class="lineno">   66</span>        names.push_back(it-&gt;first);</div>
<div class="line"><span class="lineno">   67</span>        it++;</div>
<div class="line"><span class="lineno">   68</span>    }</div>
<div class="line"><span class="lineno">   69</span>    <span class="keywordflow">return</span> names;</div>
<div class="line"><span class="lineno">   70</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a150cd1a95764b0b85e8d57aecc73b0c0_cgraph.png" border="0" usemap="#aclassValley_a150cd1a95764b0b85e8d57aecc73b0c0_cgraph" alt=""/></div>
<map name="aclassValley_a150cd1a95764b0b85e8d57aecc73b0c0_cgraph" id="aclassValley_a150cd1a95764b0b85e8d57aecc73b0c0_cgraph">
<area shape="rect" title="Gets the list of city Ids in the Valley." alt="" coords="5,13,143,38"/>
<area shape="rect" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35" title="Asserts that the river array is initialized." alt="" coords="191,5,369,45"/>
<area shape="poly" title=" " alt="" coords="143,23,177,23,177,28,143,28"/>
</map>
</div>

</div>
</div>
<a id="a32128482f1832fafabeb95954a489bec" name="a32128482f1832fafabeb95954a489bec"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32128482f1832fafabeb95954a489bec">&#9670;&#160;</a></span>GetRiverNodeFromStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BinTree&lt; string &gt; Valley::GetRiverNodeFromStream </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads a river node and its children from an input stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>An input stream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The input stream is open and valid. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The current node and its children are read and returned.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The river structure represented on a BinTree&lt;string&gt; object. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00020">20</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   21</span>{</div>
<div class="line"><span class="lineno">   22</span>    <span class="comment">// Read city name and check if city is valid</span></div>
<div class="line"><span class="lineno">   23</span>    <span class="keywordtype">string</span> city_name;</div>
<div class="line"><span class="lineno">   24</span>    stream &gt;&gt; city_name;</div>
<div class="line"><span class="lineno">   25</span>    <span class="keywordflow">if</span>(city_name == <span class="stringliteral">&quot;#&quot;</span>) </div>
<div class="line"><span class="lineno">   26</span>        <span class="keywordflow">return</span> BinTree&lt;string&gt;();</div>
<div class="line"><span class="lineno">   27</span>    </div>
<div class="line"><span class="lineno">   28</span>    <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.emplace(city_name, <a class="code hl_class" href="classCity.html">City</a>(city_name));</div>
<div class="line"><span class="lineno">   29</span> </div>
<div class="line"><span class="lineno">   30</span>    BinTree&lt;string&gt; left = <a class="code hl_function" href="classValley.html#a32128482f1832fafabeb95954a489bec">GetRiverNodeFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   31</span>    BinTree&lt;string&gt; right = <a class="code hl_function" href="classValley.html#a32128482f1832fafabeb95954a489bec">GetRiverNodeFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   32</span>    </div>
<div class="line"><span class="lineno">   33</span>    <span class="keywordflow">return</span> BinTree&lt;string&gt;(city_name, left, right);</div>
<div class="line"><span class="lineno">   34</span>}</div>
<div class="ttc" id="aclassCity_html"><div class="ttname"><a href="classCity.html">City</a></div><div class="ttdoc">Represents a city with an inventory of Product items.</div><div class="ttdef"><b>Definition</b> <a href="City_8hh_source.html#l00021">City.hh:22</a></div></div>
<div class="ttc" id="aclassValley_html_a32128482f1832fafabeb95954a489bec"><div class="ttname"><a href="classValley.html#a32128482f1832fafabeb95954a489bec">Valley::GetRiverNodeFromStream</a></div><div class="ttdeci">static BinTree&lt; string &gt; GetRiverNodeFromStream(istream &amp;stream)</div><div class="ttdoc">Reads a river node and its children from an input stream.</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00020">Valley.cc:20</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a32128482f1832fafabeb95954a489bec_cgraph.png" border="0" usemap="#aclassValley_a32128482f1832fafabeb95954a489bec_cgraph" alt=""/></div>
<map name="aclassValley_a32128482f1832fafabeb95954a489bec_cgraph" id="aclassValley_a32128482f1832fafabeb95954a489bec_cgraph">
<area shape="rect" title="Reads a river node and its children from an input stream." alt="" coords="5,29,199,69"/>
<area shape="poly" title=" " alt="" coords="66,30,64,20,69,11,82,5,102,3,125,6,137,13,134,17,123,11,102,8,84,10,73,15,69,21,71,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a32128482f1832fafabeb95954a489bec_icgraph.png" border="0" usemap="#aclassValley_a32128482f1832fafabeb95954a489bec_icgraph" alt=""/></div>
<map name="aclassValley_a32128482f1832fafabeb95954a489bec_icgraph" id="aclassValley_a32128482f1832fafabeb95954a489bec_icgraph">
<area shape="rect" title="Reads a river node and its children from an input stream." alt="" coords="628,29,821,69"/>
<area shape="poly" title=" " alt="" coords="768,18,753,11,725,8,700,10,685,15,680,21,683,28,678,30,675,20,682,10,699,5,725,3,754,6,770,13"/>
<area shape="rect" href="classValley.html#a8bdfffd571d76986c7aaa277d2150362" title="Reads the cities from the input stream, overwriting the old Valley contents, if any...." alt="" coords="361,37,580,62"/>
<area shape="poly" title=" " alt="" coords="614,52,580,52,580,47,614,47"/>
<area shape="rect" href="classValley.html#aab63536d9205e6bbfede92c0c5d66d25" title="Initializes the Valley from the input stream. This implies reading the products to be added to the Pr..." alt="" coords="108,11,313,37"/>
<area shape="poly" title=" " alt="" coords="348,40,313,37,314,31,348,35"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,37,60,62"/>
<area shape="poly" title=" " alt="" coords="347,52,60,52,60,47,347,47"/>
<area shape="poly" title=" " alt="" coords="108,41,60,48,60,43,107,36"/>
</map>
</div>

</div>
</div>
<a id="a070726f5f925f2a2891aa5226ef58f17" name="a070726f5f925f2a2891aa5226ef58f17"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a070726f5f925f2a2891aa5226ef58f17">&#9670;&#160;</a></span>GetShip()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShip.html">Ship</a> &amp; Valley::GetShip </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Gets a reference to the ship. </p>
<dl class="section pre"><dt>Precondition</dt><dd>None. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>A reference to the ship is returned.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A reference to the ship. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00053">53</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   54</span>{</div>
<div class="line"><span class="lineno">   55</span>    <a class="code hl_function" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35">AssertRiverArrayIsInitialized</a>();</div>
<div class="line"><span class="lineno">   56</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>;</div>
<div class="line"><span class="lineno">   57</span>}</div>
<div class="ttc" id="aclassValley_html_a79fb1ecacc49127f34e147ac01d76941"><div class="ttname"><a href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">Valley::ship</a></div><div class="ttdeci">static Ship ship</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00044">Valley.hh:44</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a070726f5f925f2a2891aa5226ef58f17_cgraph.png" border="0" usemap="#aclassValley_a070726f5f925f2a2891aa5226ef58f17_cgraph" alt=""/></div>
<map name="aclassValley_a070726f5f925f2a2891aa5226ef58f17_cgraph" id="aclassValley_a070726f5f925f2a2891aa5226ef58f17_cgraph">
<area shape="rect" title="Gets a reference to the ship." alt="" coords="5,13,125,38"/>
<area shape="rect" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35" title="Asserts that the river array is initialized." alt="" coords="173,5,352,45"/>
<area shape="poly" title=" " alt="" coords="126,23,160,23,160,28,126,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a070726f5f925f2a2891aa5226ef58f17_icgraph.png" border="0" usemap="#aclassValley_a070726f5f925f2a2891aa5226ef58f17_icgraph" alt=""/></div>
<map name="aclassValley_a070726f5f925f2a2891aa5226ef58f17_icgraph" id="aclassValley_a070726f5f925f2a2891aa5226ef58f17_icgraph">
<area shape="rect" title="Gets a reference to the ship." alt="" coords="108,5,228,31"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="ab9ae654d0a8f51b5c80ec9e88447fe7d" name="ab9ae654d0a8f51b5c80ec9e88447fe7d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9ae654d0a8f51b5c80ec9e88447fe7d">&#9670;&#160;</a></span>HasCity()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Valley::HasCity </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>id</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Checks if a city with the specified ID exists. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The ID of the city.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>None. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>True is returned if a city with the specified ID exists, false otherwise.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>True if a city with the specified ID exists, false otherwise. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00072">72</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   73</span>{</div>
<div class="line"><span class="lineno">   74</span>    <a class="code hl_function" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35">AssertRiverArrayIsInitialized</a>();</div>
<div class="line"><span class="lineno">   75</span>    <span class="keywordflow">return</span> <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.find(<span class="keywordtype">id</span>) != <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.end();</div>
<div class="line"><span class="lineno">   76</span>}</div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_cgraph.png" border="0" usemap="#aclassValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_cgraph" alt=""/></div>
<map name="aclassValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_cgraph" id="aclassValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_cgraph">
<area shape="rect" title="Checks if a city with the specified ID exists." alt="" coords="5,13,125,38"/>
<area shape="rect" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35" title="Asserts that the river array is initialized." alt="" coords="173,5,352,45"/>
<area shape="poly" title=" " alt="" coords="126,23,160,23,160,28,126,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_icgraph.png" border="0" usemap="#aclassValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_icgraph" alt=""/></div>
<map name="aclassValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_icgraph" id="aclassValley_ab9ae654d0a8f51b5c80ec9e88447fe7d_icgraph">
<area shape="rect" title="Checks if a city with the specified ID exists." alt="" coords="700,169,820,195"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified ID." alt="" coords="533,107,652,132"/>
<area shape="poly" title=" " alt="" coords="712,167,627,135,629,130,714,162"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,132,60,157"/>
<area shape="poly" title=" " alt="" coords="704,201,591,227,519,238,440,247,357,250,272,246,188,233,107,208,70,186,43,160,47,156,73,181,109,204,189,228,272,241,357,245,440,242,519,233,590,221,703,196"/>
<area shape="rect" href="classValley.html#a97bd06aed292614351b1db74566d0259" title="Will make the city at the given node trade with its children. At their time, the children will trade ..." alt="" coords="339,5,469,31"/>
<area shape="poly" title=" " alt="" coords="561,101,484,52,440,33,443,28,487,48,564,96"/>
<area shape="poly" title=" " alt="" coords="523,107,438,93,334,83,220,85,164,91,109,103,77,117,51,134,48,130,75,112,107,98,163,86,220,79,334,78,439,87,523,101"/>
<area shape="rect" href="classValley.html#a2d27338b1463dfa8f30f5e1e1c4e9a89" title="Navigates the specified route, updating the cities of the valley accordingly." alt="" coords="108,113,275,139"/>
<area shape="poly" title=" " alt="" coords="519,123,275,127,275,122,519,118"/>
<area shape="rect" href="classValley.html#aca437e781152975022adef348bbbda23" title="Tests a route step and updates the best route if necessary." alt="" coords="323,181,485,207"/>
<area shape="poly" title=" " alt="" coords="548,140,438,184,436,179,546,135"/>
<area shape="poly" title=" " alt="" coords="95,140,60,144,60,139,94,135"/>
<area shape="poly" title=" " alt="" coords="437,171,428,163,404,160,384,162,374,167,372,172,377,180,373,183,367,173,370,163,383,157,404,155,430,158,440,167"/>
<area shape="rect" href="classValley.html#aa61921a453bfcab8a76822fb16553560" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="112,169,271,195"/>
<area shape="poly" title=" " alt="" coords="308,191,271,189,271,184,309,186"/>
<area shape="poly" title=" " alt="" coords="123,169,60,154,61,148,124,163"/>
</map>
</div>

</div>
</div>
<a id="aab63536d9205e6bbfede92c0c5d66d25" name="aab63536d9205e6bbfede92c0c5d66d25"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aab63536d9205e6bbfede92c0c5d66d25">&#9670;&#160;</a></span>InitializeFromStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::InitializeFromStream </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Initializes the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> from the input stream. This implies reading the products to be added to the <a class="el" href="classProductReference.html" title="Stores the data (in ProductData objects) and keeps track of all the existing products.">ProductReference</a>, the cities that of the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> and the <a class="el" href="classShip.html" title="Represents a ship that navigates through a Valley buying and selling products.">Ship</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The input stream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The input stream is open and valid. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized from the input stream. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00043">43</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   44</span>{</div>
<div class="line"><span class="lineno">   45</span>    <span class="keywordtype">int</span> count;</div>
<div class="line"><span class="lineno">   46</span>    stream &gt;&gt; count;</div>
<div class="line"><span class="lineno">   47</span>    <a class="code hl_function" href="classProductReference.html#a9ff086f81c4e1c5d8fafa63ff18bf947">ProductReference::AddFromStream</a>(stream, count);</div>
<div class="line"><span class="lineno">   48</span>    <a class="code hl_function" href="classValley.html#a8bdfffd571d76986c7aaa277d2150362">ReadCitiesFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   49</span>    <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#ac76c91ac599c08677f9540a4bf128d55">ReadFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   50</span>    <a class="code hl_variable" href="classValley.html#a837c0bfa444e667bb8d93e73d44ed3d4">initialized</a> = <span class="keyword">true</span>;</div>
<div class="line"><span class="lineno">   51</span>}</div>
<div class="ttc" id="aclassProductReference_html_a9ff086f81c4e1c5d8fafa63ff18bf947"><div class="ttname"><a href="classProductReference.html#a9ff086f81c4e1c5d8fafa63ff18bf947">ProductReference::AddFromStream</a></div><div class="ttdeci">static void AddFromStream(istream &amp;reader, int count)</div><div class="ttdoc">Adds multiple product data from an input stream to the reference.</div><div class="ttdef"><b>Definition</b> <a href="ProductReference_8cc_source.html#l00026">ProductReference.cc:26</a></div></div>
<div class="ttc" id="aclassShip_html_ac76c91ac599c08677f9540a4bf128d55"><div class="ttname"><a href="classShip.html#ac76c91ac599c08677f9540a4bf128d55">Ship::ReadFromStream</a></div><div class="ttdeci">void ReadFromStream(istream &amp;stream)</div><div class="ttdoc">Reads ship data (buy and sell products) from a stream.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00027">Ship.cc:27</a></div></div>
<div class="ttc" id="aclassValley_html_a8bdfffd571d76986c7aaa277d2150362"><div class="ttname"><a href="classValley.html#a8bdfffd571d76986c7aaa277d2150362">Valley::ReadCitiesFromStream</a></div><div class="ttdeci">static void ReadCitiesFromStream(istream &amp;stream)</div><div class="ttdoc">Reads the cities from the input stream, overwriting the old Valley contents, if any....</div><div class="ttdef"><b>Definition</b> <a href="Valley_8cc_source.html#l00036">Valley.cc:36</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aab63536d9205e6bbfede92c0c5d66d25_cgraph.png" border="0" usemap="#aclassValley_aab63536d9205e6bbfede92c0c5d66d25_cgraph" alt=""/></div>
<map name="aclassValley_aab63536d9205e6bbfede92c0c5d66d25_cgraph" id="aclassValley_aab63536d9205e6bbfede92c0c5d66d25_cgraph">
<area shape="rect" title="Initializes the Valley from the input stream. This implies reading the products to be added to the Pr..." alt="" coords="5,101,211,127"/>
<area shape="rect" href="classProductReference.html#a9ff086f81c4e1c5d8fafa63ff18bf947" title="Adds multiple product data from an input stream to the reference." alt="" coords="267,18,469,58"/>
<area shape="poly" title=" " alt="" coords="152,99,285,59,287,64,153,104"/>
<area shape="rect" href="classValley.html#a8bdfffd571d76986c7aaa277d2150362" title="Reads the cities from the input stream, overwriting the old Valley contents, if any...." alt="" coords="259,101,477,127"/>
<area shape="poly" title=" " alt="" coords="211,111,245,111,245,117,211,117"/>
<area shape="rect" href="classShip.html#ac76c91ac599c08677f9540a4bf128d55" title="Reads ship data (buy and sell products) from a stream." alt="" coords="283,165,453,191"/>
<area shape="poly" title=" " alt="" coords="161,124,303,159,302,165,160,129"/>
<area shape="rect" href="classProductReference.html#af630d539e0634a36b34767a7d2c0ea6a" title="Adds a new product data to the reference." alt="" coords="541,5,712,31"/>
<area shape="poly" title=" " alt="" coords="469,28,527,23,528,28,470,33"/>
<area shape="rect" href="classValley.html#a32128482f1832fafabeb95954a489bec" title="Reads a river node and its children from an input stream." alt="" coords="530,79,723,119"/>
<area shape="poly" title=" " alt="" coords="477,105,516,103,516,108,478,110"/>
<area shape="rect" href="classShip.html#abb2c0d5a167cbde9bc0e79c6a66a374e" title="Resets the list of visited cities." alt="" coords="538,144,715,169"/>
<area shape="poly" title=" " alt="" coords="446,124,536,139,535,144,445,129"/>
<area shape="poly" title=" " alt="" coords="579,80,576,70,584,60,601,55,627,53,657,56,673,63,671,68,655,61,627,58,602,60,586,65,581,71,584,78"/>
<area shape="rect" href="classProductReference.html#a9b2c978acd5d9989cd10ab93dc358cac" title="Checks if the reference contains product data with the specified ID." alt="" coords="525,193,728,219"/>
<area shape="poly" title=" " alt="" coords="454,185,512,191,511,196,453,190"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aab63536d9205e6bbfede92c0c5d66d25_icgraph.png" border="0" usemap="#aclassValley_aab63536d9205e6bbfede92c0c5d66d25_icgraph" alt=""/></div>
<map name="aclassValley_aab63536d9205e6bbfede92c0c5d66d25_icgraph" id="aclassValley_aab63536d9205e6bbfede92c0c5d66d25_icgraph">
<area shape="rect" title="Initializes the Valley from the input stream. This implies reading the products to be added to the Pr..." alt="" coords="108,5,313,31"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a2d27338b1463dfa8f30f5e1e1c4e9a89" name="a2d27338b1463dfa8f30f5e1e1c4e9a89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2d27338b1463dfa8f30f5e1e1c4e9a89">&#9670;&#160;</a></span>NavigateRoute()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int Valley::NavigateRoute </td>
          <td>(</td>
          <td class="paramtype">const vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>route</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Navigates the specified route, updating the cities of the valley accordingly. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">route</td><td>The route to navigate.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized and the given route is valid. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The route is navigated and the total number of trades is returned. Cities have been updated with the performed trades, and the ship has saved the last traded city (if any). The products of the ship, however, have been maintained intact.</dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The total number of trades. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00184">184</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  185</span>{</div>
<div class="line"><span class="lineno">  186</span>    <span class="keywordtype">int</span> route_position = 0;</div>
<div class="line"><span class="lineno">  187</span>    <span class="keywordtype">int</span> total_traded = 0;</div>
<div class="line"><span class="lineno">  188</span>    BinTree&lt;string&gt; location = <a class="code hl_variable" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a>;</div>
<div class="line"><span class="lineno">  189</span>    <span class="keywordtype">string</span> last_traded_city = <span class="stringliteral">&quot;&quot;</span>;</div>
<div class="line"><span class="lineno">  190</span> </div>
<div class="line"><span class="lineno">  191</span>    <a class="code hl_class" href="classProduct.html">Product</a> current_buying_product = <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#abfe895d54721c20ddcff465cf37ac308">BuyingProduct</a>();</div>
<div class="line"><span class="lineno">  192</span>    <a class="code hl_class" href="classProduct.html">Product</a> current_selling_product = <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#af97be45c84069be682979f6c9d90880f">SellingProduct</a>();</div>
<div class="line"><span class="lineno">  193</span> </div>
<div class="line"><span class="lineno">  194</span>    <span class="keywordflow">while</span>(route_position &lt; route.size())</div>
<div class="line"><span class="lineno">  195</span>    {</div>
<div class="line"><span class="lineno">  196</span>        <span class="keyword">auto</span>&amp; city = <a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(location.value());</div>
<div class="line"><span class="lineno">  197</span>        <span class="keywordtype">int</span> city_traded = 0;</div>
<div class="line"><span class="lineno">  198</span> </div>
<div class="line"><span class="lineno">  199</span>        <span class="comment">// Calculate how much product is going to be bought from the city</span></div>
<div class="line"><span class="lineno">  200</span>        <span class="keywordtype">int</span> buying_id = current_buying_product.<a class="code hl_function" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">GetId</a>();</div>
<div class="line"><span class="lineno">  201</span>        <span class="keywordflow">if</span>(city.HasProduct(buying_id) &amp;&amp; city.GetProductExceedingAmount(buying_id) &gt; 0)</div>
<div class="line"><span class="lineno">  202</span>        {</div>
<div class="line"><span class="lineno">  203</span>            <span class="keywordtype">int</span> amount_to_buy = min(</div>
<div class="line"><span class="lineno">  204</span>                current_buying_product.<a class="code hl_function" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a">GetMissingAmount</a>(),</div>
<div class="line"><span class="lineno">  205</span>                city.GetProductExceedingAmount(buying_id)</div>
<div class="line"><span class="lineno">  206</span>            );</div>
<div class="line"><span class="lineno">  207</span>            current_buying_product.<a class="code hl_function" href="classProduct.html#af78eb83686a0703b6818721d31d0e7c2">RestockAmount</a>(amount_to_buy);</div>
<div class="line"><span class="lineno">  208</span>            city.WithdrawProductAmount(buying_id, amount_to_buy);</div>
<div class="line"><span class="lineno">  209</span>            city_traded += amount_to_buy;</div>
<div class="line"><span class="lineno">  210</span>        }</div>
<div class="line"><span class="lineno">  211</span> </div>
<div class="line"><span class="lineno">  212</span>        <span class="comment">// Calculate how much product is going to be sold to the city</span></div>
<div class="line"><span class="lineno">  213</span>        <span class="keywordtype">int</span> selling_id = current_selling_product.<a class="code hl_function" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">GetId</a>();</div>
<div class="line"><span class="lineno">  214</span>        <span class="keywordflow">if</span>(city.HasProduct(selling_id) &amp;&amp; city.GetProductMissingAmount(selling_id) &gt; 0)</div>
<div class="line"><span class="lineno">  215</span>        {</div>
<div class="line"><span class="lineno">  216</span>            <span class="keywordtype">int</span> amount_to_sell = min(</div>
<div class="line"><span class="lineno">  217</span>                current_selling_product.<a class="code hl_function" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd">GetExceedingAmount</a>(), </div>
<div class="line"><span class="lineno">  218</span>                city.GetProductMissingAmount(selling_id)</div>
<div class="line"><span class="lineno">  219</span>            );</div>
<div class="line"><span class="lineno">  220</span>            current_selling_product.<a class="code hl_function" href="classProduct.html#a8dbcd165158a8d6f1f6d6fb143674890">WithdrawAmount</a>(amount_to_sell);</div>
<div class="line"><span class="lineno">  221</span>            city.RestockProductAmount(selling_id, amount_to_sell);</div>
<div class="line"><span class="lineno">  222</span>            city_traded += amount_to_sell;</div>
<div class="line"><span class="lineno">  223</span>        }</div>
<div class="line"><span class="lineno">  224</span> </div>
<div class="line"><span class="lineno">  225</span>        total_traded += city_traded;</div>
<div class="line"><span class="lineno">  226</span>        <span class="comment">// Only count a city as traded with when it has actually traded things</span></div>
<div class="line"><span class="lineno">  227</span>        <span class="keywordflow">if</span>(city_traded &gt; 0)</div>
<div class="line"><span class="lineno">  228</span>            last_traded_city = location.value();</div>
<div class="line"><span class="lineno">  229</span> </div>
<div class="line"><span class="lineno">  230</span>        </div>
<div class="line"><span class="lineno">  231</span>        <span class="comment">// If this is the last city, do not try to unpack the next position from route</span></div>
<div class="line"><span class="lineno">  232</span>        <span class="keywordflow">if</span>(route_position == route.size())</div>
<div class="line"><span class="lineno">  233</span>            route_position++;</div>
<div class="line"><span class="lineno">  234</span>        <span class="comment">// Otherwise, navigate to the next position</span></div>
<div class="line"><span class="lineno">  235</span>        <span class="keywordflow">else</span> <span class="keywordflow">if</span>(route[route_position++] == <a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Valley::NavStep::Left</a>)</div>
<div class="line"><span class="lineno">  236</span>            location = location.left();</div>
<div class="line"><span class="lineno">  237</span>        <span class="keywordflow">else</span></div>
<div class="line"><span class="lineno">  238</span>            location = location.right();</div>
<div class="line"><span class="lineno">  239</span>    }</div>
<div class="line"><span class="lineno">  240</span> </div>
<div class="line"><span class="lineno">  241</span>    <span class="keywordflow">if</span>(last_traded_city != <span class="stringliteral">&quot;&quot;</span>)</div>
<div class="line"><span class="lineno">  242</span>        <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#ab23c83b11f4a3aadbbaaeff062975b76">AddVisitedCity</a>(last_traded_city);</div>
<div class="line"><span class="lineno">  243</span> </div>
<div class="line"><span class="lineno">  244</span>    <span class="keywordflow">return</span> total_traded;</div>
<div class="line"><span class="lineno">  245</span>}</div>
<div class="ttc" id="aclassProduct_html"><div class="ttname"><a href="classProduct.html">Product</a></div><div class="ttdoc">Represents a product. A product object has an available amount and a wanted amount of units,...</div><div class="ttdef"><b>Definition</b> <a href="Product_8hh_source.html#l00014">Product.hh:15</a></div></div>
<div class="ttc" id="aclassProduct_html_a0c42f35816a3fa42d9f3f985ca23f90a"><div class="ttname"><a href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a">Product::GetMissingAmount</a></div><div class="ttdeci">int GetMissingAmount() const</div><div class="ttdoc">Get the missing amount of the product. This method returns 0 if the product has a positive balance (G...</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00040">Product.cc:40</a></div></div>
<div class="ttc" id="aclassProduct_html_a8dbcd165158a8d6f1f6d6fb143674890"><div class="ttname"><a href="classProduct.html#a8dbcd165158a8d6f1f6d6fb143674890">Product::WithdrawAmount</a></div><div class="ttdeci">void WithdrawAmount(int amount)</div><div class="ttdoc">Withdraw a certain amount from the product. This method will not update the weights and volumes on an...</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00048">Product.cc:48</a></div></div>
<div class="ttc" id="aclassProduct_html_a8f4bf3557d4819295e408fbf938e77bd"><div class="ttname"><a href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd">Product::GetExceedingAmount</a></div><div class="ttdeci">int GetExceedingAmount() const</div><div class="ttdoc">Get the exceeding amount of the product. This method returns 0 if the product has a negative balance ...</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00032">Product.cc:32</a></div></div>
<div class="ttc" id="aclassProduct_html_adae0bac61207aedcba747c07bbd0b893"><div class="ttname"><a href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">Product::GetId</a></div><div class="ttdeci">int GetId() const</div><div class="ttdoc">Get the ID of the product.</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00017">Product.cc:17</a></div></div>
<div class="ttc" id="aclassProduct_html_af78eb83686a0703b6818721d31d0e7c2"><div class="ttname"><a href="classProduct.html#af78eb83686a0703b6818721d31d0e7c2">Product::RestockAmount</a></div><div class="ttdeci">void RestockAmount(int amount)</div><div class="ttdoc">Restock a certain amount of the product. This method will not update the weights and volumes on any c...</div><div class="ttdef"><b>Definition</b> <a href="Product_8cc_source.html#l00053">Product.cc:53</a></div></div>
<div class="ttc" id="aclassShip_html_ab23c83b11f4a3aadbbaaeff062975b76"><div class="ttname"><a href="classShip.html#ab23c83b11f4a3aadbbaaeff062975b76">Ship::AddVisitedCity</a></div><div class="ttdeci">void AddVisitedCity(const string &amp;city)</div><div class="ttdoc">Adds a city to the list of visited cities.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00048">Ship.cc:48</a></div></div>
<div class="ttc" id="aclassShip_html_abfe895d54721c20ddcff465cf37ac308"><div class="ttname"><a href="classShip.html#abfe895d54721c20ddcff465cf37ac308">Ship::BuyingProduct</a></div><div class="ttdeci">Product &amp; BuyingProduct()</div><div class="ttdoc">Getter for the buying product.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00017">Ship.cc:17</a></div></div>
<div class="ttc" id="aclassShip_html_af97be45c84069be682979f6c9d90880f"><div class="ttname"><a href="classShip.html#af97be45c84069be682979f6c9d90880f">Ship::SellingProduct</a></div><div class="ttdeci">Product &amp; SellingProduct()</div><div class="ttdoc">Getter for the selling product.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00022">Ship.cc:22</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_cgraph.png" border="0" usemap="#aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_cgraph" alt=""/></div>
<map name="aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_cgraph" id="aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_cgraph">
<area shape="rect" title="Navigates the specified route, updating the cities of the valley accordingly." alt="" coords="5,203,172,228"/>
<area shape="rect" href="classShip.html#ab23c83b11f4a3aadbbaaeff062975b76" title="Adds a city to the list of visited cities." alt="" coords="253,5,407,31"/>
<area shape="poly" title=" " alt="" coords="93,201,110,168,137,124,173,78,219,40,238,30,241,34,221,44,177,82,141,127,115,171,98,204"/>
<area shape="rect" href="classShip.html#abfe895d54721c20ddcff465cf37ac308" title="Getter for the buying product." alt="" coords="254,55,406,80"/>
<area shape="poly" title=" " alt="" coords="97,201,145,146,180,115,219,89,240,80,242,85,221,94,183,119,149,150,101,204"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified ID." alt="" coords="271,104,389,129"/>
<area shape="poly" title=" " alt="" coords="107,200,156,170,219,140,256,128,258,133,221,144,159,175,110,205"/>
<area shape="rect" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd" title="Get the exceeding amount of the product. This method returns 0 if the product has a negative balance ..." alt="" coords="220,153,440,179"/>
<area shape="poly" title=" " alt="" coords="151,200,253,179,254,184,152,205"/>
<area shape="rect" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893" title="Get the ID of the product." alt="" coords="273,203,387,228"/>
<area shape="poly" title=" " alt="" coords="172,213,259,213,259,218,172,218"/>
<area shape="rect" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a" title="Get the missing amount of the product. This method returns 0 if the product has a positive balance (G..." alt="" coords="229,252,431,277"/>
<area shape="poly" title=" " alt="" coords="152,225,254,247,253,252,151,231"/>
<area shape="rect" href="classProduct.html#af78eb83686a0703b6818721d31d0e7c2" title="Restock a certain amount of the product. This method will not update the weights and volumes on any c..." alt="" coords="239,301,421,327"/>
<area shape="poly" title=" " alt="" coords="109,226,159,257,221,288,244,295,242,300,219,292,156,261,107,230"/>
<area shape="rect" href="classShip.html#af97be45c84069be682979f6c9d90880f" title="Getter for the selling product." alt="" coords="255,351,405,376"/>
<area shape="poly" title=" " alt="" coords="101,226,149,281,183,311,221,337,242,346,240,351,219,342,180,316,145,284,97,230"/>
<area shape="rect" href="classProduct.html#a8dbcd165158a8d6f1f6d6fb143674890" title="Withdraw a certain amount from the product. This method will not update the weights and volumes on an..." alt="" coords="234,400,426,425"/>
<area shape="poly" title=" " alt="" coords="98,227,115,260,141,304,177,349,222,386,232,392,229,397,218,391,173,352,137,307,110,263,93,229"/>
<area shape="rect" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35" title="Asserts that the river array is initialized." alt="" coords="656,97,835,137"/>
<area shape="poly" title=" " alt="" coords="390,114,642,114,642,119,390,119"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified ID exists." alt="" coords="488,129,608,155"/>
<area shape="poly" title=" " alt="" coords="390,121,475,131,474,136,389,126"/>
<area shape="poly" title=" " alt="" coords="608,132,642,127,643,133,609,137"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_icgraph.png" border="0" usemap="#aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_icgraph" alt=""/></div>
<map name="aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_icgraph" id="aclassValley_a2d27338b1463dfa8f30f5e1e1c4e9a89_icgraph">
<area shape="rect" title="Navigates the specified route, updating the cities of the valley accordingly." alt="" coords="108,5,275,31"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,5,60,31"/>
<area shape="poly" title=" " alt="" coords="94,21,60,21,60,15,94,15"/>
</map>
</div>

</div>
</div>
<a id="a8bdfffd571d76986c7aaa277d2150362" name="a8bdfffd571d76986c7aaa277d2150362"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8bdfffd571d76986c7aaa277d2150362">&#9670;&#160;</a></span>ReadCitiesFromStream()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::ReadCitiesFromStream </td>
          <td>(</td>
          <td class="paramtype">istream &amp;&#160;</td>
          <td class="paramname"><em>stream</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reads the cities from the input stream, overwriting the old <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> contents, if any. All the data regarding the cities from the old valley is lost. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">stream</td><td>The input stream.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>The input stream is open and valid. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The cities are read from the input stream. The old <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is overwritten. The ship forgets the old travel routes, but maintains its attributes </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00036">36</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">   37</span>{</div>
<div class="line"><span class="lineno">   38</span>    <a class="code hl_variable" href="classValley.html#a72b588ac6bb53e4777778a4ca8f89725">cities</a>.clear();</div>
<div class="line"><span class="lineno">   39</span>    <a class="code hl_variable" href="classValley.html#a6c77616859a5ac6a822be4a2b6cd537e">river_structure</a> = <a class="code hl_function" href="classValley.html#a32128482f1832fafabeb95954a489bec">GetRiverNodeFromStream</a>(stream);</div>
<div class="line"><span class="lineno">   40</span>    <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#abb2c0d5a167cbde9bc0e79c6a66a374e">ResetVisitedCities</a>();</div>
<div class="line"><span class="lineno">   41</span>}</div>
<div class="ttc" id="aclassShip_html_abb2c0d5a167cbde9bc0e79c6a66a374e"><div class="ttname"><a href="classShip.html#abb2c0d5a167cbde9bc0e79c6a66a374e">Ship::ResetVisitedCities</a></div><div class="ttdeci">void ResetVisitedCities()</div><div class="ttdoc">Resets the list of visited cities.</div><div class="ttdef"><b>Definition</b> <a href="Ship_8cc_source.html#l00058">Ship.cc:58</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a8bdfffd571d76986c7aaa277d2150362_cgraph.png" border="0" usemap="#aclassValley_a8bdfffd571d76986c7aaa277d2150362_cgraph" alt=""/></div>
<map name="aclassValley_a8bdfffd571d76986c7aaa277d2150362_cgraph" id="aclassValley_a8bdfffd571d76986c7aaa277d2150362_cgraph">
<area shape="rect" title="Reads the cities from the input stream, overwriting the old Valley contents, if any...." alt="" coords="5,66,224,91"/>
<area shape="rect" href="classValley.html#a32128482f1832fafabeb95954a489bec" title="Reads a river node and its children from an input stream." alt="" coords="272,29,465,69"/>
<area shape="poly" title=" " alt="" coords="224,63,258,59,259,65,224,69"/>
<area shape="rect" href="classShip.html#abb2c0d5a167cbde9bc0e79c6a66a374e" title="Resets the list of visited cities." alt="" coords="280,94,457,119"/>
<area shape="poly" title=" " alt="" coords="224,88,267,93,266,98,224,93"/>
<area shape="poly" title=" " alt="" coords="322,30,319,20,326,10,343,5,369,3,398,6,414,13,412,18,397,11,369,8,344,10,329,15,324,21,327,28"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_a8bdfffd571d76986c7aaa277d2150362_icgraph.png" border="0" usemap="#aclassValley_a8bdfffd571d76986c7aaa277d2150362_icgraph" alt=""/></div>
<map name="aclassValley_a8bdfffd571d76986c7aaa277d2150362_icgraph" id="aclassValley_a8bdfffd571d76986c7aaa277d2150362_icgraph">
<area shape="rect" title="Reads the cities from the input stream, overwriting the old Valley contents, if any...." alt="" coords="361,31,580,56"/>
<area shape="rect" href="classValley.html#aab63536d9205e6bbfede92c0c5d66d25" title="Initializes the Valley from the input stream. This implies reading the products to be added to the Pr..." alt="" coords="108,5,313,31"/>
<area shape="poly" title=" " alt="" coords="348,34,313,31,314,25,348,29"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,31,60,56"/>
<area shape="poly" title=" " alt="" coords="347,46,60,46,60,41,347,41"/>
<area shape="poly" title=" " alt="" coords="108,35,60,42,60,37,107,30"/>
</map>
</div>

</div>
</div>
<a id="aca437e781152975022adef348bbbda23" name="aca437e781152975022adef348bbbda23"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aca437e781152975022adef348bbbda23">&#9670;&#160;</a></span>TestRouteStep()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void Valley::TestRouteStep </td>
          <td>(</td>
          <td class="paramtype">vector&lt; <a class="el" href="classValley.html#a3771d0f650af806c24a71e9060093635">NavStep</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>current_route</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const BinTree&lt; string &gt; &amp;&#160;</td>
          <td class="paramname"><em>current_location</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>buyable_amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>sellable_amount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structValley_1_1RouteEvaluationResult.html">Valley::RouteEvaluationResult</a> &amp;&#160;</td>
          <td class="paramname"><em>best_route</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tests a route step and updates the best route if necessary. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">current_route</td><td>The already traveled steps. </td></tr>
    <tr><td class="paramname">current_location</td><td>The current location in the river structure. </td></tr>
    <tr><td class="paramname">buyable_amount</td><td>The amount that can still be bought. </td></tr>
    <tr><td class="paramname">sellable_amount</td><td>The amount that can still be sold. </td></tr>
    <tr><td class="paramname">best_route</td><td>A reference to a variable holding the best possible route.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section pre"><dt>Precondition</dt><dd>current_route and current_location are coherent with eachother, best_route is a valid reference and buyable_amount and sellable_amount are non_negative. </dd></dl>
<dl class="section post"><dt>Postcondition</dt><dd>The current route is tested and the best route is updated if necessary. </dd></dl>

<p class="definition">Definition at line <a class="el" href="Valley_8cc_source.html#l00115">115</a> of file <a class="el" href="Valley_8cc_source.html">Valley.cc</a>.</p>
<div class="fragment"><div class="line"><span class="lineno">  120</span>{</div>
<div class="line"><span class="lineno">  121</span>    <span class="keywordtype">int</span> buying_id = <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#abfe895d54721c20ddcff465cf37ac308">BuyingProduct</a>().<a class="code hl_function" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">GetId</a>();</div>
<div class="line"><span class="lineno">  122</span>    <span class="keywordtype">int</span> selling_id = <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#af97be45c84069be682979f6c9d90880f">SellingProduct</a>().<a class="code hl_function" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893">GetId</a>();</div>
<div class="line"><span class="lineno">  123</span> </div>
<div class="line"><span class="lineno">  124</span>    <span class="comment">// If we have reached the end of the river </span></div>
<div class="line"><span class="lineno">  125</span>    <span class="comment">// or if we have reached the limits of the ship&#39;s trading capacity</span></div>
<div class="line"><span class="lineno">  126</span>    <span class="keywordflow">if</span>(current_location.empty()</div>
<div class="line"><span class="lineno">  127</span>        || (<a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#abfe895d54721c20ddcff465cf37ac308">BuyingProduct</a>().<a class="code hl_function" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a">GetMissingAmount</a>() &lt;= buyable_amount </div>
<div class="line"><span class="lineno">  128</span>        &amp;&amp; <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#af97be45c84069be682979f6c9d90880f">SellingProduct</a>().<a class="code hl_function" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd">GetExceedingAmount</a>() &lt;= sellable_amount))</div>
<div class="line"><span class="lineno">  129</span>    {</div>
<div class="line"><span class="lineno">  130</span>        <a class="code hl_struct" href="structValley_1_1RouteEvaluationResult.html">Valley::RouteEvaluationResult</a> result;</div>
<div class="line"><span class="lineno">  131</span>        result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#abe1f6e8cbd027ff9cb234003b26fb247">route</a> = current_route;</div>
<div class="line"><span class="lineno">  132</span>        result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a53733398076998454676d8f3f6926777">EffectiveLength</a> = current_route.size();</div>
<div class="line"><span class="lineno">  133</span>        result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a> = min(buyable_amount, <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#abfe895d54721c20ddcff465cf37ac308">BuyingProduct</a>().<a class="code hl_function" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a">GetMissingAmount</a>())</div>
<div class="line"><span class="lineno">  134</span>            + min(sellable_amount, <a class="code hl_variable" href="classValley.html#a79fb1ecacc49127f34e147ac01d76941">ship</a>.<a class="code hl_function" href="classShip.html#af97be45c84069be682979f6c9d90880f">SellingProduct</a>().<a class="code hl_function" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd">GetExceedingAmount</a>());</div>
<div class="line"><span class="lineno">  135</span> </div>
<div class="line"><span class="lineno">  136</span>        <span class="keywordflow">if</span>(result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a> &gt; best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a></div>
<div class="line"><span class="lineno">  137</span>            || (result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a> == best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">TotalTrades</a> </div>
<div class="line"><span class="lineno">  138</span>            &amp;&amp; result.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a53733398076998454676d8f3f6926777">EffectiveLength</a> &lt; best_route.<a class="code hl_variable" href="structValley_1_1RouteEvaluationResult.html#a53733398076998454676d8f3f6926777">EffectiveLength</a>))</div>
<div class="line"><span class="lineno">  139</span>        {     <span class="comment">// TODO: perhaps add a &lt;= here, but in theory not</span></div>
<div class="line"><span class="lineno">  140</span>            best_route = result;</div>
<div class="line"><span class="lineno">  141</span>        }</div>
<div class="line"><span class="lineno">  142</span> </div>
<div class="line"><span class="lineno">  143</span>        <span class="keywordflow">return</span>;</div>
<div class="line"><span class="lineno">  144</span>    }</div>
<div class="line"><span class="lineno">  145</span>    </div>
<div class="line"><span class="lineno">  146</span>    <span class="comment">// Calculate how much product is going to be bought from the city</span></div>
<div class="line"><span class="lineno">  147</span>    <span class="keywordtype">int</span> traded_amount = 0;</div>
<div class="line"><span class="lineno">  148</span>    <span class="keyword">auto</span>&amp; city = <a class="code hl_function" href="classValley.html#a75ff9182c65289925ff544ac37e6b792">GetCity</a>(current_location.value());</div>
<div class="line"><span class="lineno">  149</span>    <span class="keywordflow">if</span>(city.HasProduct(buying_id))</div>
<div class="line"><span class="lineno">  150</span>    {   </div>
<div class="line"><span class="lineno">  151</span>        <span class="keywordtype">int</span> exceeding_amount = city.GetProductExceedingAmount(buying_id);</div>
<div class="line"><span class="lineno">  152</span>        traded_amount += exceeding_amount;</div>
<div class="line"><span class="lineno">  153</span>        buyable_amount += exceeding_amount;</div>
<div class="line"><span class="lineno">  154</span>    }</div>
<div class="line"><span class="lineno">  155</span> </div>
<div class="line"><span class="lineno">  156</span>    <span class="comment">// Calculate how much product is going to be sold to the city</span></div>
<div class="line"><span class="lineno">  157</span>    <span class="keywordflow">if</span>(city.HasProduct(selling_id))</div>
<div class="line"><span class="lineno">  158</span>    {</div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordtype">int</span> missing_amount = city.GetProductMissingAmount(selling_id); </div>
<div class="line"><span class="lineno">  160</span>        traded_amount += missing_amount;</div>
<div class="line"><span class="lineno">  161</span>        sellable_amount += missing_amount;</div>
<div class="line"><span class="lineno">  162</span>    }</div>
<div class="line"><span class="lineno">  163</span> </div>
<div class="line"><span class="lineno">  164</span>    <span class="comment">// Continue testing through the left</span></div>
<div class="line"><span class="lineno">  165</span>    <span class="keyword">auto</span> left_route = current_route;</div>
<div class="line"><span class="lineno">  166</span>    left_route.push_back(<a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a945d5e233cf7d6240f6b783b36a374ff">Valley::NavStep::Left</a>);</div>
<div class="line"><span class="lineno">  167</span>    <a class="code hl_function" href="classValley.html#aca437e781152975022adef348bbbda23">TestRouteStep</a>(left_route, current_location.left(), buyable_amount, sellable_amount, best_route);</div>
<div class="line"><span class="lineno">  168</span>    </div>
<div class="line"><span class="lineno">  169</span>    <span class="comment">// Continue testing through the right</span></div>
<div class="line"><span class="lineno">  170</span>    current_route.push_back(<a class="code hl_enumvalue" href="classValley.html#a3771d0f650af806c24a71e9060093635a92b09c7c48c520c3c55e497875da437c">Valley::NavStep::Right</a>);</div>
<div class="line"><span class="lineno">  171</span>    <a class="code hl_function" href="classValley.html#aca437e781152975022adef348bbbda23">TestRouteStep</a>(current_route, current_location.right(), buyable_amount, sellable_amount, best_route);</div>
<div class="line"><span class="lineno">  172</span>}</div>
<div class="ttc" id="astructValley_1_1RouteEvaluationResult_html_a1831bb84b781a320c6e200daf0dd4480"><div class="ttname"><a href="structValley_1_1RouteEvaluationResult.html#a1831bb84b781a320c6e200daf0dd4480">Valley::RouteEvaluationResult::TotalTrades</a></div><div class="ttdeci">int TotalTrades</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00037">Valley.hh:37</a></div></div>
<div class="ttc" id="astructValley_1_1RouteEvaluationResult_html_a53733398076998454676d8f3f6926777"><div class="ttname"><a href="structValley_1_1RouteEvaluationResult.html#a53733398076998454676d8f3f6926777">Valley::RouteEvaluationResult::EffectiveLength</a></div><div class="ttdeci">int EffectiveLength</div><div class="ttdef"><b>Definition</b> <a href="Valley_8hh_source.html#l00036">Valley.hh:36</a></div></div>
</div><!-- fragment --><div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aca437e781152975022adef348bbbda23_cgraph.png" border="0" usemap="#aclassValley_aca437e781152975022adef348bbbda23_cgraph" alt=""/></div>
<map name="aclassValley_aca437e781152975022adef348bbbda23_cgraph" id="aclassValley_aca437e781152975022adef348bbbda23_cgraph">
<area shape="rect" title="Tests a route step and updates the best route if necessary." alt="" coords="5,129,168,155"/>
<area shape="poly" title=" " alt="" coords="48,131,40,121,44,111,60,105,87,103,120,107,133,116,129,120,118,111,87,108,61,110,48,115,45,120,52,127"/>
<area shape="rect" href="classShip.html#abfe895d54721c20ddcff465cf37ac308" title="Getter for the buying product." alt="" coords="250,5,402,31"/>
<area shape="poly" title=" " alt="" coords="99,127,147,84,179,60,215,40,236,31,238,36,217,44,182,64,150,88,102,131"/>
<area shape="rect" href="classValley.html#a75ff9182c65289925ff544ac37e6b792" title="Gets the city with the specified ID." alt="" coords="267,55,385,80"/>
<area shape="poly" title=" " alt="" coords="117,127,215,90,252,80,254,85,217,95,119,132"/>
<area shape="rect" href="classProduct.html#a8f4bf3557d4819295e408fbf938e77bd" title="Get the exceeding amount of the product. This method returns 0 if the product has a negative balance ..." alt="" coords="216,104,436,129"/>
<area shape="poly" title=" " alt="" coords="168,131,202,127,202,132,168,136"/>
<area shape="rect" href="classProduct.html#adae0bac61207aedcba747c07bbd0b893" title="Get the ID of the product." alt="" coords="269,153,383,179"/>
<area shape="poly" title=" " alt="" coords="168,147,255,156,255,162,168,153"/>
<area shape="rect" href="classProduct.html#a0c42f35816a3fa42d9f3f985ca23f90a" title="Get the missing amount of the product. This method returns 0 if the product has a positive balance (G..." alt="" coords="225,203,427,228"/>
<area shape="poly" title=" " alt="" coords="118,152,217,189,247,197,245,202,215,194,117,157"/>
<area shape="rect" href="classShip.html#af97be45c84069be682979f6c9d90880f" title="Getter for the selling product." alt="" coords="251,252,401,277"/>
<area shape="poly" title=" " alt="" coords="102,153,150,195,182,219,217,238,238,246,236,251,215,243,179,223,147,199,99,157"/>
<area shape="rect" href="classValley.html#a9ce0d2c2139f10629fcb12ec2e261f35" title="Asserts that the river array is initialized." alt="" coords="652,47,831,87"/>
<area shape="poly" title=" " alt="" coords="386,65,638,65,638,70,386,70"/>
<area shape="rect" href="classValley.html#ab9ae654d0a8f51b5c80ec9e88447fe7d" title="Checks if a city with the specified ID exists." alt="" coords="484,80,604,105"/>
<area shape="poly" title=" " alt="" coords="386,72,471,82,470,87,385,77"/>
<area shape="poly" title=" " alt="" coords="604,82,638,78,639,83,605,88"/>
</map>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="classValley_aca437e781152975022adef348bbbda23_icgraph.png" border="0" usemap="#aclassValley_aca437e781152975022adef348bbbda23_icgraph" alt=""/></div>
<map name="aclassValley_aca437e781152975022adef348bbbda23_icgraph" id="aclassValley_aca437e781152975022adef348bbbda23_icgraph">
<area shape="rect" title="Tests a route step and updates the best route if necessary." alt="" coords="315,29,477,55"/>
<area shape="poly" title=" " alt="" coords="433,20,423,11,396,8,374,10,362,15,360,20,366,28,362,31,355,21,358,11,373,5,396,3,425,6,436,15"/>
<area shape="rect" href="classValley.html#aa61921a453bfcab8a76822fb16553560" title="Gets the best route for the ship. The best route is the shortest route possible where the maximum amo..." alt="" coords="108,29,267,55"/>
<area shape="poly" title=" " alt="" coords="301,45,267,45,267,39,301,39"/>
<area shape="rect" href="program_8cc.html#ae66f6b31b5ad750f1fe042a706a4e3d4" title="Entry point of the program." alt="" coords="5,29,60,55"/>
<area shape="poly" title=" " alt="" coords="94,45,60,45,60,39,94,39"/>
</map>
</div>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a72b588ac6bb53e4777778a4ca8f89725" name="a72b588ac6bb53e4777778a4ca8f89725"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a72b588ac6bb53e4777778a4ca8f89725">&#9670;&#160;</a></span>cities</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">unordered_map&lt; string, <a class="el" href="classCity.html">City</a> &gt; Valley::cities = unordered_map&lt;string, <a class="el" href="classCity.html">City</a>&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>A map that links a given city id with its corresponding <a class="el" href="classCity.html" title="Represents a city with an inventory of Product items.">City</a> object. </p>

<p class="definition">Definition at line <a class="el" href="Valley_8hh_source.html#l00043">43</a> of file <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<a id="a837c0bfa444e667bb8d93e73d44ed3d4" name="a837c0bfa444e667bb8d93e73d44ed3d4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a837c0bfa444e667bb8d93e73d44ed3d4">&#9670;&#160;</a></span>initialized</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool Valley::initialized = false</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Flag indicating if the <a class="el" href="classValley.html" title="Represents a valley with cities (City objects), and a Ship that navigates and trades between cities.">Valley</a> is initialized. </p>

<p class="definition">Definition at line <a class="el" href="Valley_8hh_source.html#l00040">40</a> of file <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<a id="afebc5484b9933c6d53d54e8a43632970" name="afebc5484b9933c6d53d54e8a43632970"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afebc5484b9933c6d53d54e8a43632970">&#9670;&#160;</a></span>invalid_city</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classCity.html">City</a> Valley::invalid_city = <a class="el" href="classCity.html">City</a>(&quot;invalid&quot;)</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>An invalid city used to perform read operations when an invalid Id is provided through cin. </p>

<p class="definition">Definition at line <a class="el" href="Valley_8hh_source.html#l00041">41</a> of file <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<a id="a6c77616859a5ac6a822be4a2b6cd537e" name="a6c77616859a5ac6a822be4a2b6cd537e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6c77616859a5ac6a822be4a2b6cd537e">&#9670;&#160;</a></span>river_structure</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">BinTree&lt; string &gt; Valley::river_structure = BinTree&lt;string&gt;()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The river structure containing the city IDs. </p>

<p class="definition">Definition at line <a class="el" href="Valley_8hh_source.html#l00042">42</a> of file <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<a id="a79fb1ecacc49127f34e147ac01d76941" name="a79fb1ecacc49127f34e147ac01d76941"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a79fb1ecacc49127f34e147ac01d76941">&#9670;&#160;</a></span>ship</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classShip.html">Ship</a> Valley::ship = <a class="el" href="classShip.html">Ship</a>()</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>The ship. </p>

<p class="definition">Definition at line <a class="el" href="Valley_8hh_source.html#l00044">44</a> of file <a class="el" href="Valley_8hh_source.html">Valley.hh</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>src/<a class="el" href="Valley_8hh_source.html">Valley.hh</a></li>
<li>src/<a class="el" href="Valley_8cc_source.html">Valley.cc</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classValley.html">Valley</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
